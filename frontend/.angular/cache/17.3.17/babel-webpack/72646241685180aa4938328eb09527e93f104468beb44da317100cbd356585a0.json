{"ast":null,"code":"import { forkJoin, of } from \"rxjs\";\nimport { catchError } from \"rxjs/operators\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/material/select\";\nimport * as i10 from \"@angular/material/core\";\nimport * as i11 from \"@angular/material/progress-spinner\";\nimport * as i12 from \"ng2-charts\";\nimport * as i13 from \"@angular/material/button-toggle\";\nimport * as i14 from \"@angular/material/slider\";\nconst _c0 = () => ({\n  color: \"#9bb0c9\"\n});\nconst _c1 = a0 => ({\n  labels: a0\n});\nconst _c2 = a0 => ({\n  legend: a0\n});\nconst _c3 = () => ({\n  beginAtZero: true,\n  min: 0,\n  max: 1\n});\nconst _c4 = a0 => ({\n  r: a0\n});\nconst _c5 = (a0, a1) => ({\n  responsive: true,\n  plugins: a0,\n  scales: a1\n});\nconst _c6 = () => [\"#ef4444\", \"#f59e0b\", \"#22c55e\"];\nconst _c7 = (a0, a1) => ({\n  data: a0,\n  backgroundColor: a1\n});\nconst _c8 = a0 => [a0];\nconst _c9 = (a0, a1) => ({\n  labels: a0,\n  datasets: a1\n});\nconst _c10 = a0 => ({\n  data: a0,\n  backgroundColor: \"#19c3b1\"\n});\nconst _c11 = a0 => ({\n  data: a0,\n  backgroundColor: \"#0ea5e9\"\n});\nconst _c12 = () => [];\nconst _c13 = a0 => ({\n  data: a0,\n  borderColor: \"#19c3b1\",\n  backgroundColor: \"rgba(25,195,177,0.25)\",\n  tension: 0.3,\n  fill: true\n});\nconst _c14 = () => ({\n  display: false\n});\nconst _c15 = a0 => ({\n  ticks: a0\n});\nconst _c16 = a0 => ({\n  ticks: a0,\n  beginAtZero: true\n});\nconst _c17 = (a0, a1) => ({\n  x: a0,\n  y: a1\n});\nconst _c18 = a0 => ({\n  data: a0,\n  label: \"Churn\",\n  borderColor: \"#ef4444\",\n  backgroundColor: \"rgba(239,68,68,0.15)\",\n  tension: 0.25,\n  fill: true\n});\nconst _c19 = a0 => ({\n  data: a0,\n  label: \"Default\",\n  borderColor: \"#f59e0b\",\n  backgroundColor: \"rgba(245,158,11,0.15)\",\n  tension: 0.25,\n  fill: true\n});\nconst _c20 = (a0, a1) => [a0, a1];\nconst _c21 = a0 => ({\n  data: a0,\n  backgroundColor: \"#f59e0b\"\n});\nfunction DashboardComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Generated \", i0.ɵɵpipeBind2(2, 1, ctx_r0.report == null ? null : ctx_r0.report.generated_at, \"short\"), \"\");\n  }\n}\nfunction DashboardComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵelement(1, \"mat-progress-spinner\", 19);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_20_mat_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 53);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fam_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", fam_r3.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(fam_r3.label);\n  }\n}\nfunction DashboardComponent_div_20_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54)(1, \"div\")(2, \"div\", 6);\n    i0.ɵɵtext(3, \"Churn\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 55);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 29);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"number\");\n    i0.ɵɵpipe(10, \"number\");\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\")(13, \"div\", 6);\n    i0.ɵɵtext(14, \"Default\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 55);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 29);\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"number\");\n    i0.ɵɵpipe(21, \"number\");\n    i0.ɵɵpipe(22, \"number\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    let tmp_6_0;\n    let tmp_7_0;\n    let tmp_8_0;\n    let tmp_9_0;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"AUC \", i0.ɵɵpipeBind2(6, 8, ((tmp_6_0 = ctx_r0.familyMetrics().churn) == null ? null : tmp_6_0.roc_auc) || 0, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate3(\"Acc \", i0.ɵɵpipeBind2(9, 11, ((tmp_7_0 = ctx_r0.familyMetrics().churn) == null ? null : tmp_7_0.accuracy) || 0, \"1.2-2\"), \" | Prec \", i0.ɵɵpipeBind2(10, 14, ((tmp_7_0 = ctx_r0.familyMetrics().churn) == null ? null : tmp_7_0.precision) || 0, \"1.2-2\"), \" | Rec \", i0.ɵɵpipeBind2(11, 17, ((tmp_7_0 = ctx_r0.familyMetrics().churn) == null ? null : tmp_7_0.recall) || 0, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"AUC \", i0.ɵɵpipeBind2(17, 20, ((tmp_8_0 = ctx_r0.familyMetrics().default) == null ? null : tmp_8_0.roc_auc) || 0, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate3(\"Acc \", i0.ɵɵpipeBind2(20, 23, ((tmp_9_0 = ctx_r0.familyMetrics().default) == null ? null : tmp_9_0.accuracy) || 0, \"1.2-2\"), \" | Prec \", i0.ɵɵpipeBind2(21, 26, ((tmp_9_0 = ctx_r0.familyMetrics().default) == null ? null : tmp_9_0.precision) || 0, \"1.2-2\"), \" | Rec \", i0.ɵɵpipeBind2(22, 29, ((tmp_9_0 = ctx_r0.familyMetrics().default) == null ? null : tmp_9_0.recall) || 0, \"1.2-2\"), \"\");\n  }\n}\nfunction DashboardComponent_div_20_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1, \"Metrics loading\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_20_mat_option_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 53);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fam_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", fam_r4.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(fam_r4.label);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_43_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtext(1, \"Top drifting features:\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_20_mat_card_43_ul_9_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const f_r5 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", f_r5.name, \" (\\u0394\\u03C3 \", i0.ɵɵpipeBind2(2, 2, f_r5.delta_std, \"1.2-2\"), \") \");\n  }\n}\nfunction DashboardComponent_div_20_mat_card_43_ul_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 29);\n    i0.ɵɵtemplate(1, DashboardComponent_div_20_mat_card_43_ul_9_li_1_Template, 3, 5, \"li\", 43);\n    i0.ɵɵpipe(2, \"slice\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(2, 1, ctx_r0.driftSummary.feature_drifts, 0, 3));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_43_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtext(1, \"No drift detected.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_20_mat_card_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 21)(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"Model Stability\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 29);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 29);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, DashboardComponent_div_20_mat_card_43_div_8_Template, 2, 0, \"div\", 35)(9, DashboardComponent_div_20_mat_card_43_ul_9_Template, 3, 5, \"ul\", 35)(10, DashboardComponent_div_20_mat_card_43_div_10_Template, 2, 0, \"div\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Status: \", ctx_r0.driftSummary.status, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Bucket PSI: \", i0.ɵɵpipeBind2(7, 5, ctx_r0.driftSummary.bucket_psi, \"1.3-3\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.driftSummary.feature_drifts == null ? null : ctx_r0.driftSummary.feature_drifts.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.driftSummary.feature_drifts == null ? null : ctx_r0.driftSummary.feature_drifts.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !(ctx_r0.driftSummary.feature_drifts == null ? null : ctx_r0.driftSummary.feature_drifts.length));\n  }\n}\nfunction DashboardComponent_div_20_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54)(1, \"div\")(2, \"div\", 6);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 29);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 29);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵpipe(12, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\")(14, \"div\", 6);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 29);\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"number\");\n    i0.ɵɵpipe(20, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 29);\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"number\");\n    i0.ɵɵpipe(24, \"number\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    let tmp_6_0;\n    let tmp_7_0;\n    let tmp_8_0;\n    let tmp_9_0;\n    let tmp_10_0;\n    let tmp_11_0;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Churn @ \", i0.ɵɵpipeBind2(4, 10, (tmp_6_0 = ctx_r0.thresholdStats().churn) == null ? null : tmp_6_0.threshold, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"TPR \", i0.ɵɵpipeBind2(7, 13, ((tmp_7_0 = ctx_r0.thresholdStats().churn) == null ? null : tmp_7_0.tpr) || 0, \"1.2-2\"), \" | FPR \", i0.ɵɵpipeBind2(8, 16, ((tmp_7_0 = ctx_r0.thresholdStats().churn) == null ? null : tmp_7_0.fpr) || 0, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"Prec \", i0.ɵɵpipeBind2(11, 19, ((tmp_8_0 = ctx_r0.thresholdStats().churn) == null ? null : tmp_8_0.precision) || 0, \"1.2-2\"), \" | Rec \", i0.ɵɵpipeBind2(12, 22, ((tmp_8_0 = ctx_r0.thresholdStats().churn) == null ? null : tmp_8_0.recall) || 0, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Default @ \", i0.ɵɵpipeBind2(16, 25, (tmp_9_0 = ctx_r0.thresholdStats().default) == null ? null : tmp_9_0.threshold, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"TPR \", i0.ɵɵpipeBind2(19, 28, ((tmp_10_0 = ctx_r0.thresholdStats().default) == null ? null : tmp_10_0.tpr) || 0, \"1.2-2\"), \" | FPR \", i0.ɵɵpipeBind2(20, 31, ((tmp_10_0 = ctx_r0.thresholdStats().default) == null ? null : tmp_10_0.fpr) || 0, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"Prec \", i0.ɵɵpipeBind2(23, 34, ((tmp_11_0 = ctx_r0.thresholdStats().default) == null ? null : tmp_11_0.precision) || 0, \"1.2-2\"), \" | Rec \", i0.ɵɵpipeBind2(24, 37, ((tmp_11_0 = ctx_r0.thresholdStats().default) == null ? null : tmp_11_0.recall) || 0, \"1.2-2\"), \"\");\n  }\n}\nfunction DashboardComponent_div_20_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1, \"Threshold stats unavailable.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_20_div_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"strong\");\n    i0.ɵɵtext(2, \"Churn confusion (est.):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_6_0;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate4(\" TP \", (tmp_6_0 = ctx_r0.thresholdStats().churn) == null ? null : tmp_6_0.tp, \" | FP \", (tmp_6_0 = ctx_r0.thresholdStats().churn) == null ? null : tmp_6_0.fp, \" | FN \", (tmp_6_0 = ctx_r0.thresholdStats().churn) == null ? null : tmp_6_0.fn, \" | TN \", (tmp_6_0 = ctx_r0.thresholdStats().churn) == null ? null : tmp_6_0.tn, \" \");\n  }\n}\nfunction DashboardComponent_div_20_div_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵpipe(3, \"number\");\n    i0.ɵɵpipe(4, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_6_0;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate3(\" Est. cost: FP $\", i0.ɵɵpipeBind2(2, 3, (tmp_6_0 = ctx_r0.thresholdCost(\"churn\")) == null ? null : tmp_6_0.cost_fp, \"1.0-0\"), \", FN $\", i0.ɵɵpipeBind2(3, 6, (tmp_6_0 = ctx_r0.thresholdCost(\"churn\")) == null ? null : tmp_6_0.cost_fn, \"1.0-0\"), \" (total $\", i0.ɵɵpipeBind2(4, 9, (tmp_6_0 = ctx_r0.thresholdCost(\"churn\")) == null ? null : tmp_6_0.total, \"1.0-0\"), \") \");\n  }\n}\nfunction DashboardComponent_div_20_div_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"strong\");\n    i0.ɵɵtext(2, \"Default confusion (est.):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_6_0;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate4(\" TP \", (tmp_6_0 = ctx_r0.thresholdStats().default) == null ? null : tmp_6_0.tp, \" | FP \", (tmp_6_0 = ctx_r0.thresholdStats().default) == null ? null : tmp_6_0.fp, \" | FN \", (tmp_6_0 = ctx_r0.thresholdStats().default) == null ? null : tmp_6_0.fn, \" | TN \", (tmp_6_0 = ctx_r0.thresholdStats().default) == null ? null : tmp_6_0.tn, \" \");\n  }\n}\nfunction DashboardComponent_div_20_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵpipe(3, \"number\");\n    i0.ɵɵpipe(4, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_6_0;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate3(\" Est. cost: FP $\", i0.ɵɵpipeBind2(2, 3, (tmp_6_0 = ctx_r0.thresholdCost(\"default\")) == null ? null : tmp_6_0.cost_fp, \"1.0-0\"), \", FN $\", i0.ɵɵpipeBind2(3, 6, (tmp_6_0 = ctx_r0.thresholdCost(\"default\")) == null ? null : tmp_6_0.cost_fn, \"1.0-0\"), \" (total $\", i0.ɵɵpipeBind2(4, 9, (tmp_6_0 = ctx_r0.thresholdCost(\"default\")) == null ? null : tmp_6_0.total, \"1.0-0\"), \") \");\n  }\n}\nfunction DashboardComponent_div_20_div_80_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"number\");\n    i0.ɵɵpipe(4, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Churn avg: \", i0.ɵɵpipeBind2(3, 8, ctx_r0.scenarioResult.base.avg_churn, \"1.2-2\"), \" \\u2192 \", i0.ɵɵpipeBind2(4, 11, ctx_r0.scenarioResult.scenario.avg_churn, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"Default avg: \", i0.ɵɵpipeBind2(7, 14, ctx_r0.scenarioResult.base.avg_default, \"1.2-2\"), \" \\u2192 \", i0.ɵɵpipeBind2(8, 17, ctx_r0.scenarioResult.scenario.avg_default, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"High-risk investors: \", ctx_r0.scenarioResult.base.high_risk_investors, \" \\u2192 \", ctx_r0.scenarioResult.scenario.high_risk_investors, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"High-risk loans: \", ctx_r0.scenarioResult.base.high_risk_loans, \" \\u2192 \", ctx_r0.scenarioResult.scenario.high_risk_loans, \"\");\n  }\n}\nfunction DashboardComponent_div_20_div_84_li_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const k_r6 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\"\", k_r6.key, \": \", k_r6.value, \"%\");\n  }\n}\nfunction DashboardComponent_div_20_div_84_li_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const k_r7 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\"\", k_r7.key, \": \", k_r7.value, \"%\");\n  }\n}\nfunction DashboardComponent_div_20_div_84_div_25_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const k_r8 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" inactivity_days \\u2013 \", k_r8.key, \": \", k_r8.value, \"% \");\n  }\n}\nfunction DashboardComponent_div_20_div_84_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"strong\");\n    i0.ɵɵtext(2, \"By risk tolerance (investors, %):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 29);\n    i0.ɵɵtemplate(4, DashboardComponent_div_20_div_84_div_25_li_4_Template, 2, 2, \"li\", 43);\n    i0.ɵɵpipe(5, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(5, 1, ctx_r0.dataAudit.investor_missing_by_tolerance.inactivity_days));\n  }\n}\nfunction DashboardComponent_div_20_div_84_div_26_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const k_r9 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" dscr \\u2013 \", k_r9.key, \": \", k_r9.value, \"% \");\n  }\n}\nfunction DashboardComponent_div_20_div_84_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"strong\");\n    i0.ɵɵtext(2, \"By sector (loans, %):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 29);\n    i0.ɵɵtemplate(4, DashboardComponent_div_20_div_84_div_26_li_4_Template, 2, 2, \"li\", 43);\n    i0.ɵɵpipe(5, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(5, 1, ctx_r0.dataAudit.loan_missing_by_sector.dscr));\n  }\n}\nfunction DashboardComponent_div_20_div_84_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"div\")(2, \"strong\");\n    i0.ɵɵtext(3, \"Encode:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\")(6, \"strong\");\n    i0.ɵɵtext(7, \"Scale:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\")(10, \"strong\");\n    i0.ɵɵtext(11, \"Strategy:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 29);\n    i0.ɵɵtext(14, \"Missingness (investors, %):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"ul\", 29);\n    i0.ɵɵtemplate(16, DashboardComponent_div_20_div_84_li_16_Template, 2, 2, \"li\", 43);\n    i0.ɵɵpipe(17, \"keyvalue\");\n    i0.ɵɵpipe(18, \"slice\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 29);\n    i0.ɵɵtext(20, \"Missingness (loans, %):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"ul\", 29);\n    i0.ɵɵtemplate(22, DashboardComponent_div_20_div_84_li_22_Template, 2, 2, \"li\", 43);\n    i0.ɵɵpipe(23, \"keyvalue\");\n    i0.ɵɵpipe(24, \"slice\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(25, DashboardComponent_div_20_div_84_div_25_Template, 6, 3, \"div\", 35)(26, DashboardComponent_div_20_div_84_div_26_Template, 6, 3, \"div\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", (ctx_r0.dataAudit.categorical_to_encode == null ? null : ctx_r0.dataAudit.categorical_to_encode.join(\", \")) || \"None\", \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", (ctx_r0.dataAudit.scaling_recommended == null ? null : ctx_r0.dataAudit.scaling_recommended.join(\", \")) || \"None\", \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.dataAudit.strategy_recommendation, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(18, 9, i0.ɵɵpipeBind1(17, 7, ctx_r0.dataAudit.investor_missing_pct), 0, 4));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(24, 15, i0.ɵɵpipeBind1(23, 13, ctx_r0.dataAudit.loan_missing_pct), 0, 4));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.dataAudit.investor_missing_by_tolerance);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.dataAudit.loan_missing_by_sector);\n  }\n}\nfunction DashboardComponent_div_20_div_85_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1, \"Data audit unavailable.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_20_p_110_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate3(\" High churn by tolerance: low=\", (ctx_r0.report == null ? null : ctx_r0.report.summary_kpis.churn_by_tolerance == null ? null : ctx_r0.report.summary_kpis.churn_by_tolerance.low) || 0, \", medium=\", (ctx_r0.report == null ? null : ctx_r0.report.summary_kpis.churn_by_tolerance == null ? null : ctx_r0.report.summary_kpis.churn_by_tolerance.medium) || 0, \", high=\", (ctx_r0.report == null ? null : ctx_r0.report.summary_kpis.churn_by_tolerance == null ? null : ctx_r0.report.summary_kpis.churn_by_tolerance.high) || 0, \" \");\n  }\n}\nfunction DashboardComponent_div_20_table_114_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"span\", 57);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const inv_r10 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(inv_r10.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.formatPercent(inv_r10.probability));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", inv_r10.bucket.toLowerCase());\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(inv_r10.bucket);\n  }\n}\nfunction DashboardComponent_div_20_table_114_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 56)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Probability\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Bucket\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"tbody\");\n    i0.ɵɵtemplate(10, DashboardComponent_div_20_table_114_tr_10_Template, 8, 4, \"tr\", 43);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.topInvestors());\n  }\n}\nfunction DashboardComponent_div_20_ng_template_115_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1, \"No investors found.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_20_table_120_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"span\", 57);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const loan_r11 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"#\", loan_r11.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(loan_r11.sector);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(7, 6, loan_r11.amount, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.formatPercent(loan_r11.probability));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", loan_r11.bucket.toLowerCase());\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(loan_r11.bucket);\n  }\n}\nfunction DashboardComponent_div_20_table_120_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 56)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Sector\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Probability\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Bucket\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"tbody\");\n    i0.ɵɵtemplate(14, DashboardComponent_div_20_table_120_tr_14_Template, 13, 9, \"tr\", 43);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.topLoans());\n  }\n}\nfunction DashboardComponent_div_20_ng_template_121_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1, \"No loans found.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_20_mat_card_127_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r12 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r12.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((row_r12.value == null ? null : row_r12.value.Low) || 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((row_r12.value == null ? null : row_r12.value.Medium) || 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((row_r12.value == null ? null : row_r12.value.High) || 0);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_127_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 38)(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"Default Risk Heatmap (Sector x Bucket)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 42)(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"Sector\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Low\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Medium\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"High\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, DashboardComponent_div_20_mat_card_127_tr_13_Template, 9, 4, \"tr\", 43);\n    i0.ɵɵpipe(14, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(14, 1, ctx_r0.analyticsRaw.cohort_risk.sector_bucket_matrix));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_128_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r13.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 4, (row_r13.value == null ? null : row_r13.value.low) || (row_r13.value == null ? null : row_r13.value.Low) || 0, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 7, (row_r13.value == null ? null : row_r13.value.medium) || (row_r13.value == null ? null : row_r13.value.Medium) || 0, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 10, (row_r13.value == null ? null : row_r13.value.high) || (row_r13.value == null ? null : row_r13.value.High) || 0, \"1.2-2\"));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_128_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 38)(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"Churn Heatmap (AUM band x Risk Tolerance)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 42)(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"AUM Band\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Low\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Medium\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"High\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, DashboardComponent_div_20_mat_card_128_tr_13_Template, 12, 13, \"tr\", 43);\n    i0.ɵɵpipe(14, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(14, 1, ctx_r0.analyticsRaw.cohort_risk.aum_tolerance_matrix));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_129_th_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const col_r14 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(col_r14);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_129_tr_11_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"percent\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cIdx_r15 = ctx.index;\n    const rIdx_r16 = i0.ɵɵnextContext().index;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, ctx_r0.heatmap(\"churn_risk_tolerance_by_aum\").values[rIdx_r16][cIdx_r15], \"1.0-1\"), \" \");\n  }\n}\nfunction DashboardComponent_div_20_mat_card_129_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, DashboardComponent_div_20_mat_card_129_tr_11_td_3_Template, 3, 4, \"td\", 43);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r17 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r17);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.heatmap(\"churn_risk_tolerance_by_aum\").cols);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_129_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 38)(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"Cohort Heatmap (metrics)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 29);\n    i0.ɵɵtext(4, \"Churn label averages by risk tolerance \\u00D7 AUM band\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"table\", 58)(6, \"thead\")(7, \"tr\");\n    i0.ɵɵelement(8, \"th\");\n    i0.ɵɵtemplate(9, DashboardComponent_div_20_mat_card_129_th_9_Template, 2, 1, \"th\", 43);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, DashboardComponent_div_20_mat_card_129_tr_11_Template, 4, 2, \"tr\", 43);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.heatmap(\"churn_risk_tolerance_by_aum\").cols);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.heatmap(\"churn_risk_tolerance_by_aum\").rows);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_130_th_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const col_r18 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(col_r18);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_130_tr_11_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"percent\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cIdx_r19 = ctx.index;\n    const rIdx_r20 = i0.ɵɵnextContext().index;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, ctx_r0.heatmap(\"default_sector_by_ltv\").values[rIdx_r20][cIdx_r19], \"1.0-1\"), \" \");\n  }\n}\nfunction DashboardComponent_div_20_mat_card_130_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, DashboardComponent_div_20_mat_card_130_tr_11_td_3_Template, 3, 4, \"td\", 43);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r21 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r21);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.heatmap(\"default_sector_by_ltv\").cols);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_130_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 38)(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"Default Heatmap\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 29);\n    i0.ɵɵtext(4, \"Default label averages by sector \\u00D7 LTV band\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"table\", 58)(6, \"thead\")(7, \"tr\");\n    i0.ɵɵelement(8, \"th\");\n    i0.ɵɵtemplate(9, DashboardComponent_div_20_mat_card_130_th_9_Template, 2, 1, \"th\", 43);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, DashboardComponent_div_20_mat_card_130_tr_11_Template, 4, 2, \"tr\", 43);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.heatmap(\"default_sector_by_ltv\").cols);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.heatmap(\"default_sector_by_ltv\").rows);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_131_div_3_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r22 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", row_r22.key, \"=\", i0.ɵɵpipeBind2(2, 2, (row_r22.value == null ? null : row_r22.value.bucket) || (row_r22.value == null ? null : row_r22.value.probability), \"1.2-2\"), \";\\u00A0 \");\n  }\n}\nfunction DashboardComponent_div_20_mat_card_131_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtext(1, \" Churn by tolerance: \");\n    i0.ɵɵtemplate(2, DashboardComponent_div_20_mat_card_131_div_3_span_2_Template, 3, 5, \"span\", 43);\n    i0.ɵɵpipe(3, \"keyvalue\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(3, 1, ctx_r0.cohortModels().churn));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_131_div_4_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r23 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", row_r23.key, \"=\", i0.ɵɵpipeBind2(2, 2, (row_r23.value == null ? null : row_r23.value.bucket) || (row_r23.value == null ? null : row_r23.value.probability), \"1.2-2\"), \";\\u00A0 \");\n  }\n}\nfunction DashboardComponent_div_20_mat_card_131_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtext(1, \" Default by sector: \");\n    i0.ɵɵtemplate(2, DashboardComponent_div_20_mat_card_131_div_4_span_2_Template, 3, 5, \"span\", 43);\n    i0.ɵɵpipe(3, \"keyvalue\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(3, 1, ctx_r0.cohortModels().default));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_131_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 21)(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"Cohort Models (simplified)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, DashboardComponent_div_20_mat_card_131_div_3_Template, 4, 3, \"div\", 35)(4, DashboardComponent_div_20_mat_card_131_div_4_Template, 4, 3, \"div\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.cohortModels().churn);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.cohortModels().default);\n  }\n}\nfunction DashboardComponent_div_20_tr_140_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r24 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r24.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 2, row_r24.value, \"1.2-2\"));\n  }\n}\nfunction DashboardComponent_div_20_tr_146_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r25 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r25.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 2, row_r25.value, \"1.2-2\"));\n  }\n}\nfunction DashboardComponent_div_20_tr_152_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r26 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r26.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 2, row_r26.value, \"1.2-2\"));\n  }\n}\nfunction DashboardComponent_div_20_div_154_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r27 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r27.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((row_r27.value == null ? null : row_r27.value.Low) || 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((row_r27.value == null ? null : row_r27.value.Medium) || 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((row_r27.value == null ? null : row_r27.value.High) || 0);\n  }\n}\nfunction DashboardComponent_div_20_div_154_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 6);\n    i0.ɵɵtext(2, \"Default buckets by sector\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 42)(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"Sector\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Low\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Med\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"High\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, DashboardComponent_div_20_div_154_tr_13_Template, 9, 4, \"tr\", 43);\n    i0.ɵɵpipe(14, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(14, 1, ctx_r0.cohortRisk().sector_bucket_matrix));\n  }\n}\nfunction DashboardComponent_div_20_div_155_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r28 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r28.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 4, (row_r28.value == null ? null : row_r28.value.low) || (row_r28.value == null ? null : row_r28.value.Low) || 0, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 7, (row_r28.value == null ? null : row_r28.value.medium) || (row_r28.value == null ? null : row_r28.value.Medium) || 0, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 10, (row_r28.value == null ? null : row_r28.value.high) || (row_r28.value == null ? null : row_r28.value.High) || 0, \"1.2-2\"));\n  }\n}\nfunction DashboardComponent_div_20_div_155_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 6);\n    i0.ɵɵtext(2, \"Churn avg by AUM x tolerance\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 42)(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"Band\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Low\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Medium\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"High\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, DashboardComponent_div_20_div_155_tr_13_Template, 12, 13, \"tr\", 43);\n    i0.ɵɵpipe(14, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(14, 1, ctx_r0.cohortRisk().aum_tolerance_matrix));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_156_div_4_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r29 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r29.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 3, row_r29.value == null ? null : row_r29.value.avg, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(row_r29.value == null ? null : row_r29.value.bucket);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_156_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 6);\n    i0.ɵɵtext(2, \"Churn by tolerance\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 42)(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"Tolerance\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Avg\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Bucket\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(11, DashboardComponent_div_20_mat_card_156_div_4_tr_11_Template, 8, 6, \"tr\", 43);\n    i0.ɵɵpipe(12, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_7_0;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(12, 1, (tmp_7_0 = ctx_r0.segmentScores().churn) == null ? null : tmp_7_0.risk_tolerance));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_156_div_5_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r30 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r30.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 3, row_r30.value == null ? null : row_r30.value.avg, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(row_r30.value == null ? null : row_r30.value.bucket);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_156_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 6);\n    i0.ɵɵtext(2, \"Churn by AUM band\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 42)(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"Band\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Avg\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Bucket\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(11, DashboardComponent_div_20_mat_card_156_div_5_tr_11_Template, 8, 6, \"tr\", 43);\n    i0.ɵɵpipe(12, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_7_0;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(12, 1, (tmp_7_0 = ctx_r0.segmentScores().churn) == null ? null : tmp_7_0.aum_band));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_156_div_6_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r31 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r31.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 3, row_r31.value == null ? null : row_r31.value.avg, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(row_r31.value == null ? null : row_r31.value.bucket);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_156_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 6);\n    i0.ɵɵtext(2, \"Default by sector\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 42)(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"Sector\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Avg\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Bucket\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(11, DashboardComponent_div_20_mat_card_156_div_6_tr_11_Template, 8, 6, \"tr\", 43);\n    i0.ɵɵpipe(12, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_7_0;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(12, 1, (tmp_7_0 = ctx_r0.segmentScores().default) == null ? null : tmp_7_0.sector));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_156_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 38)(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"Segment Risk (cohort models)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 41);\n    i0.ɵɵtemplate(4, DashboardComponent_div_20_mat_card_156_div_4_Template, 13, 3, \"div\", 44)(5, DashboardComponent_div_20_mat_card_156_div_5_Template, 13, 3, \"div\", 44)(6, DashboardComponent_div_20_mat_card_156_div_6_Template, 13, 3, \"div\", 44);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_6_0;\n    let tmp_7_0;\n    let tmp_8_0;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", (tmp_6_0 = ctx_r0.segmentScores().churn) == null ? null : tmp_6_0.risk_tolerance);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_7_0 = ctx_r0.segmentScores().churn) == null ? null : tmp_7_0.aum_band);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_8_0 = ctx_r0.segmentScores().default) == null ? null : tmp_8_0.sector);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_157_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r32 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r32.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 2, row_r32.auc, \"1.2-2\"));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_157_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r33 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r33.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 2, row_r33.auc, \"1.2-2\"));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_157_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 38)(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"Predictor Explorer (single-feature AUC)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 41)(4, \"div\")(5, \"div\", 6);\n    i0.ɵɵtext(6, \"Churn\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"table\", 42)(8, \"tr\")(9, \"th\");\n    i0.ɵɵtext(10, \"Feature\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"AUC\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, DashboardComponent_div_20_mat_card_157_tr_13_Template, 6, 5, \"tr\", 43);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\")(15, \"div\", 6);\n    i0.ɵɵtext(16, \"Default\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"table\", 42)(18, \"tr\")(19, \"th\");\n    i0.ɵɵtext(20, \"Feature\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"th\");\n    i0.ɵɵtext(22, \"AUC\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(23, DashboardComponent_div_20_mat_card_157_tr_23_Template, 6, 5, \"tr\", 43);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.predictorBenchmarks().churn);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.predictorBenchmarks().default);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_158_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"json\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const key_r34 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\"\", key_r34.key, \": \", i0.ɵɵpipeBind1(2, 2, key_r34.value), \"\");\n  }\n}\nfunction DashboardComponent_div_20_mat_card_158_li_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"json\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const key_r35 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\"\", key_r35.key, \": \", i0.ɵɵpipeBind1(2, 2, key_r35.value), \"\");\n  }\n}\nfunction DashboardComponent_div_20_mat_card_158_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 21)(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"Hyperparameters (selected)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 29);\n    i0.ɵɵtext(4, \"Churn\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ul\", 29);\n    i0.ɵɵtemplate(6, DashboardComponent_div_20_mat_card_158_li_6_Template, 3, 4, \"li\", 43);\n    i0.ɵɵpipe(7, \"keyvalue\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 29);\n    i0.ɵɵtext(9, \"Default\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ul\", 29);\n    i0.ɵɵtemplate(11, DashboardComponent_div_20_mat_card_158_li_11_Template, 3, 4, \"li\", 43);\n    i0.ɵɵpipe(12, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(7, 2, ctx_r0.hyperparams().churn));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(12, 4, ctx_r0.hyperparams().default));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_159_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r36 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r36.feature);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(5, 3, row_r36.up, \"1.1-1\"), \"%\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(8, 6, row_r36.down, \"1.1-1\"), \"%\");\n  }\n}\nfunction DashboardComponent_div_20_mat_card_159_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r37 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r37.feature);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(5, 3, row_r37.up, \"1.1-1\"), \"%\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(8, 6, row_r37.down, \"1.1-1\"), \"%\");\n  }\n}\nfunction DashboardComponent_div_20_mat_card_159_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 21)(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"Prediction Sensitivity (flip % @ \\u00B10.5\\u03C3)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 29);\n    i0.ɵɵtext(4, \"Churn\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"table\", 42)(6, \"tr\")(7, \"th\");\n    i0.ɵɵtext(8, \"Feature\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Up\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Down\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, DashboardComponent_div_20_mat_card_159_tr_13_Template, 9, 9, \"tr\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 29);\n    i0.ɵɵtext(15, \"Default\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"table\", 42)(17, \"tr\")(18, \"th\");\n    i0.ɵɵtext(19, \"Feature\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\");\n    i0.ɵɵtext(21, \"Up\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\");\n    i0.ɵɵtext(23, \"Down\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(24, DashboardComponent_div_20_mat_card_159_tr_24_Template, 9, 9, \"tr\", 43);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.sensitivityRows().churn);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.sensitivityRows().default);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_160_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r38 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r38.strategy);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 3, row_r38.auc, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 6, row_r38.ap, \"1.2-2\"));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_160_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r39 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r39.strategy);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 3, row_r39.auc, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 6, row_r39.ap, \"1.2-2\"));\n  }\n}\nfunction DashboardComponent_div_20_mat_card_160_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 21)(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"Missing Data Imputation (AUC)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 29);\n    i0.ɵɵtext(4, \"Churn\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"table\", 42)(6, \"tr\")(7, \"th\");\n    i0.ɵɵtext(8, \"Strategy\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"AUC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Avg Precision\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, DashboardComponent_div_20_mat_card_160_tr_13_Template, 9, 9, \"tr\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 29);\n    i0.ɵɵtext(15, \"Default\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"table\", 42)(17, \"tr\")(18, \"th\");\n    i0.ɵɵtext(19, \"Strategy\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\");\n    i0.ɵɵtext(21, \"AUC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\");\n    i0.ɵɵtext(23, \"Avg Precision\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(24, DashboardComponent_div_20_mat_card_160_tr_24_Template, 9, 9, \"tr\", 43);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.imputationRows().churn);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.imputationRows().default);\n  }\n}\nfunction DashboardComponent_div_20_mat_card_161_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵpipe(3, \"number\");\n    i0.ɵɵpipe(4, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate3(\" Churn AUC \\u2248 \", i0.ɵɵpipeBind2(2, 3, ctx_r0.bootstrapStats().churn.auc.mean, \"1.2-2\"), \" [\", i0.ɵɵpipeBind2(3, 6, ctx_r0.bootstrapStats().churn.auc.ci[0], \"1.2-2\"), \" \\u2013 \", i0.ɵɵpipeBind2(4, 9, ctx_r0.bootstrapStats().churn.auc.ci[1], \"1.2-2\"), \"] \");\n  }\n}\nfunction DashboardComponent_div_20_mat_card_161_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵpipe(3, \"number\");\n    i0.ɵɵpipe(4, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate3(\" Default AUC \\u2248 \", i0.ɵɵpipeBind2(2, 3, ctx_r0.bootstrapStats().default.auc.mean, \"1.2-2\"), \" [\", i0.ɵɵpipeBind2(3, 6, ctx_r0.bootstrapStats().default.auc.ci[0], \"1.2-2\"), \" \\u2013 \", i0.ɵɵpipeBind2(4, 9, ctx_r0.bootstrapStats().default.auc.ci[1], \"1.2-2\"), \"] \");\n  }\n}\nfunction DashboardComponent_div_20_mat_card_161_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 21)(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"Bootstrap CI (logistic baseline)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, DashboardComponent_div_20_mat_card_161_div_3_Template, 5, 12, \"div\", 35)(4, DashboardComponent_div_20_mat_card_161_div_4_Template, 5, 12, \"div\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_6_0;\n    let tmp_7_0;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", (tmp_6_0 = ctx_r0.bootstrapStats().churn) == null ? null : tmp_6_0.auc);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_7_0 = ctx_r0.bootstrapStats().default) == null ? null : tmp_7_0.auc);\n  }\n}\nfunction DashboardComponent_div_20_pre_181_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"pre\", 59);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.report.report_markdown);\n  }\n}\nfunction DashboardComponent_div_20_div_188_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.aiAnswer, \" \");\n  }\n}\nfunction DashboardComponent_div_20_div_188_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-form-field\", 60)(2, \"mat-label\");\n    i0.ɵɵtext(3, \"Ask a question about the data\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"textarea\", 61);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function DashboardComponent_div_20_div_188_Template_textarea_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r0.aiQuestion, $event) || (ctx_r0.aiQuestion = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 62)(6, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_188_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.explainDashboard());\n    });\n    i0.ɵɵtext(7, \"Explain dashboard\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_188_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.askAi());\n    });\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, DashboardComponent_div_20_div_188_div_10_Template, 2, 1, \"div\", 63);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.aiQuestion);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.aiLoading || !ctx_r0.aiQuestion);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.aiLoading ? \"Thinking...\" : \"Ask AI\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.aiAnswer);\n  }\n}\nfunction DashboardComponent_div_20_div_204_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 69);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_204_tr_21_Template_tr_click_0_listener() {\n      const i_r43 = i0.ɵɵrestoreView(_r42).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.selectInvestor(i_r43));\n    });\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"span\", 57);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"percent\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"percent\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\")(21, \"span\", 57);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const i_r43 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"selected\", (ctx_r0.selectedInvestor == null ? null : ctx_r0.selectedInvestor.id) === i_r43.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r43.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i_r43.risk_tolerance);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i_r43.risk_tolerance);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(8, 12, i_r43.aum, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 15, i_r43.engagement_score, \"1.0-0\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(14, 18, i_r43.email_open_rate, \"1.0-0\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(17, 21, i_r43.distribution_yield, \"1.1-1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i_r43.meetings_last_quarter);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i_r43.risk_bucket == null ? null : i_r43.risk_bucket.toLowerCase());\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i_r43.risk_bucket);\n  }\n}\nfunction DashboardComponent_div_20_div_204_mat_option_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 53);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r44 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", s_r44);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(s_r44);\n  }\n}\nfunction DashboardComponent_div_20_div_204_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"table\")(2, \"thead\")(3, \"tr\")(4, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_204_Template_th_click_4_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleInvestorSort(\"name\"));\n    });\n    i0.ɵɵtext(5, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_204_Template_th_click_6_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleInvestorSort(\"risk_tolerance\"));\n    });\n    i0.ɵɵtext(7, \"Risk\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_204_Template_th_click_8_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleInvestorSort(\"aum\"));\n    });\n    i0.ɵɵtext(9, \"AUM\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_204_Template_th_click_10_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleInvestorSort(\"engagement_score\"));\n    });\n    i0.ɵɵtext(11, \"Engagement\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_204_Template_th_click_12_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleInvestorSort(\"email_open_rate\"));\n    });\n    i0.ɵɵtext(13, \"Open Rate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_204_Template_th_click_14_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleInvestorSort(\"distribution_yield\"));\n    });\n    i0.ɵɵtext(15, \"Yield\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_204_Template_th_click_16_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleInvestorSort(\"meetings_last_quarter\"));\n    });\n    i0.ɵɵtext(17, \"Meetings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_204_Template_th_click_18_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleInvestorSort(\"risk_bucket\"));\n    });\n    i0.ɵɵtext(19, \"Churn\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"tbody\");\n    i0.ɵɵtemplate(21, DashboardComponent_div_20_div_204_tr_21_Template, 23, 24, \"tr\", 67);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 50)(23, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_204_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.setInvestorPage(-1));\n    });\n    i0.ɵɵtext(24, \"Prev\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"span\", 6);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_204_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.setInvestorPage(1));\n    });\n    i0.ɵɵtext(28, \"Next\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"mat-form-field\", 68)(30, \"mat-label\");\n    i0.ɵɵtext(31, \"Rows\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"mat-select\", 24);\n    i0.ɵɵlistener(\"selectionChange\", function DashboardComponent_div_20_div_204_Template_mat_select_selectionChange_32_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.changePageSize($event.value));\n    });\n    i0.ɵɵtemplate(33, DashboardComponent_div_20_div_204_mat_option_33_Template, 2, 2, \"mat-option\", 25);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.pagedInvestors());\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.investorPage === 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"Page \", ctx_r0.investorPage + 1, \" / \", ctx_r0.Math.max(1, ctx_r0.Math.ceil(ctx_r0.filteredInvestors().length / ctx_r0.pageSize)), \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r0.investorPage + 1 >= ctx_r0.Math.ceil(ctx_r0.filteredInvestors().length / ctx_r0.pageSize));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"value\", ctx_r0.pageSize);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.pageSizeOptions);\n  }\n}\nfunction DashboardComponent_div_20_ng_template_205_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1, \"No investor rows available.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_20_div_222_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 69);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_222_tr_19_Template_tr_click_0_listener() {\n      const l_r47 = i0.ɵɵrestoreView(_r46).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.selectLoan(l_r47));\n    });\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\")(17, \"span\", 57);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const l_r47 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"selected\", (ctx_r0.selectedLoan == null ? null : ctx_r0.selectedLoan.id) === l_r47.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"#\", l_r47.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(l_r47.sector);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(7, 10, l_r47.amount, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 13, l_r47.ltv_ratio, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", l_r47.term_months, \" mo\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 16, l_r47.dscr, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", l_r47.risk_bucket == null ? null : l_r47.risk_bucket.toLowerCase());\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(l_r47.risk_bucket);\n  }\n}\nfunction DashboardComponent_div_20_div_222_mat_option_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 53);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r48 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", s_r48);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(s_r48);\n  }\n}\nfunction DashboardComponent_div_20_div_222_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"table\")(2, \"thead\")(3, \"tr\")(4, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_222_Template_th_click_4_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleLoanSort(\"id\"));\n    });\n    i0.ɵɵtext(5, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_222_Template_th_click_6_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleLoanSort(\"sector\"));\n    });\n    i0.ɵɵtext(7, \"Sector\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_222_Template_th_click_8_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleLoanSort(\"amount\"));\n    });\n    i0.ɵɵtext(9, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_222_Template_th_click_10_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleLoanSort(\"ltv_ratio\"));\n    });\n    i0.ɵɵtext(11, \"LTV\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_222_Template_th_click_12_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleLoanSort(\"term_months\"));\n    });\n    i0.ɵɵtext(13, \"Term\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_222_Template_th_click_14_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleLoanSort(\"dscr\"));\n    });\n    i0.ɵɵtext(15, \"DSCR\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\", 66);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_222_Template_th_click_16_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleLoanSort(\"risk_bucket\"));\n    });\n    i0.ɵɵtext(17, \"Default\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"tbody\");\n    i0.ɵɵtemplate(19, DashboardComponent_div_20_div_222_tr_19_Template, 19, 19, \"tr\", 67);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 50)(21, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_222_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.setLoanPage(-1));\n    });\n    i0.ɵɵtext(22, \"Prev\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"span\", 6);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_div_222_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.setLoanPage(1));\n    });\n    i0.ɵɵtext(26, \"Next\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"mat-form-field\", 68)(28, \"mat-label\");\n    i0.ɵɵtext(29, \"Rows\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"mat-select\", 24);\n    i0.ɵɵlistener(\"selectionChange\", function DashboardComponent_div_20_div_222_Template_mat_select_selectionChange_30_listener($event) {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.changePageSize($event.value));\n    });\n    i0.ɵɵtemplate(31, DashboardComponent_div_20_div_222_mat_option_31_Template, 2, 2, \"mat-option\", 25);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.pagedLoans());\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.loanPage === 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"Page \", ctx_r0.loanPage + 1, \" / \", ctx_r0.Math.max(1, ctx_r0.Math.ceil(ctx_r0.filteredLoans().length / ctx_r0.pageSize)), \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r0.loanPage + 1 >= ctx_r0.Math.ceil(ctx_r0.filteredLoans().length / ctx_r0.pageSize));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"value\", ctx_r0.pageSize);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.pageSizeOptions);\n  }\n}\nfunction DashboardComponent_div_20_ng_template_223_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1, \"No loan rows available.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_20_mat_card_225_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 29);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 29);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 29);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"percent\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 29);\n    i0.ɵɵtext(9, \"Interpretation: lower engagement / higher inactivity pushes risk up; higher yield or meetings lower it.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Investor: \", ctx_r0.selectedInvestor.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"Bucket: \", ctx_r0.selectedInvestor.risk_bucket, \" | Engagement: \", ctx_r0.selectedInvestor.engagement_score, \" | Inactivity days: \", ctx_r0.selectedInvestor.inactivity_days, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Open rate: \", i0.ɵɵpipeBind2(7, 6, ctx_r0.selectedInvestor.email_open_rate, \"1.0-0\"), \" | Meetings last qtr: \", ctx_r0.selectedInvestor.meetings_last_quarter, \"\");\n  }\n}\nfunction DashboardComponent_div_20_mat_card_225_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 29);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 29);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 29);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 29);\n    i0.ɵɵtext(10, \"Interpretation: higher LTV + arrears increase default risk; stronger DSCR/collateral lowers it.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Loan #\", ctx_r0.selectedLoan.id, \" | Sector \", ctx_r0.selectedLoan.sector, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"Bucket: \", ctx_r0.selectedLoan.risk_bucket, \" | LTV \", i0.ɵɵpipeBind2(5, 7, ctx_r0.selectedLoan.ltv_ratio, \"1.2-2\"), \" | DSCR \", i0.ɵɵpipeBind2(6, 10, ctx_r0.selectedLoan.dscr, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"Arrears: \", ctx_r0.selectedLoan.arrears_flag ? \"Yes\" : \"No\", \" | Collateral score \", ctx_r0.selectedLoan.collateral_score, \"\");\n  }\n}\nfunction DashboardComponent_div_20_mat_card_225_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 38)(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"Explainability Snapshot\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, DashboardComponent_div_20_mat_card_225_div_3_Template, 10, 9, \"div\", 44)(4, DashboardComponent_div_20_mat_card_225_div_4_Template, 11, 13, \"div\", 44);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedInvestor);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedLoan);\n  }\n}\nfunction DashboardComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"mat-card\", 21)(2, \"mat-card-title\");\n    i0.ɵɵtext(3, \"Model Comparison\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 22)(5, \"mat-form-field\", 23)(6, \"mat-label\");\n    i0.ɵɵtext(7, \"Model family\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"mat-select\", 24);\n    i0.ɵɵlistener(\"selectionChange\", function DashboardComponent_div_20_Template_mat_select_selectionChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.changeFamily($event.value));\n    });\n    i0.ɵɵtemplate(9, DashboardComponent_div_20_mat_option_9_Template, 2, 2, \"mat-option\", 25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 6);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.explainDashboard());\n    });\n    i0.ɵɵtext(13, \"Explain dashboard\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(14, DashboardComponent_div_20_div_14_Template, 23, 32, \"div\", 27)(15, DashboardComponent_div_20_div_15_Template, 2, 0, \"div\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"mat-card\", 21)(17, \"mat-card-title\");\n    i0.ɵɵtext(18, \"Model Diagnostics Radar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 29);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"canvas\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"mat-card\", 21)(23, \"mat-card-title\");\n    i0.ɵɵtext(24, \"Model Bucket Distributions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 29);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"canvas\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"mat-card\", 21)(29, \"mat-card-title\");\n    i0.ɵɵtext(30, \"Model Family Overlay\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 22)(32, \"mat-form-field\", 23)(33, \"mat-label\");\n    i0.ɵɵtext(34, \"Compare with\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"mat-select\", 24);\n    i0.ɵɵlistener(\"selectionChange\", function DashboardComponent_div_20_Template_mat_select_selectionChange_35_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.changeCompareFamily($event.value));\n    });\n    i0.ɵɵtemplate(36, DashboardComponent_div_20_mat_option_36_Template, 2, 2, \"mat-option\", 25);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(37, \"div\", 29);\n    i0.ɵɵtext(38, \"ROC overlay\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(39, \"canvas\", 31);\n    i0.ɵɵelementStart(40, \"div\", 29);\n    i0.ɵɵtext(41, \"PR overlay\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(42, \"canvas\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(43, DashboardComponent_div_20_mat_card_43_Template, 11, 8, \"mat-card\", 32);\n    i0.ɵɵelementStart(44, \"mat-card\", 21)(45, \"mat-card-title\");\n    i0.ɵɵtext(46, \"Threshold Tuning (explore)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"p\", 29);\n    i0.ɵɵtext(48, \"Adjust decision threshold to see expected TPR/FPR/precision/recall for current horizon.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"mat-slider\", 33);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function DashboardComponent_div_20_Template_mat_slider_ngModelChange_49_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.thresholdValue, $event) || (ctx_r0.thresholdValue = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"div\", 29);\n    i0.ɵɵtext(51, \" Cost per FP: \");\n    i0.ɵɵelementStart(52, \"input\", 34);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function DashboardComponent_div_20_Template_input_ngModelChange_52_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.costFP, $event) || (ctx_r0.costFP = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53, \" | Cost per FN: \");\n    i0.ɵɵelementStart(54, \"input\", 34);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function DashboardComponent_div_20_Template_input_ngModelChange_54_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.costFN, $event) || (ctx_r0.costFN = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(55, DashboardComponent_div_20_div_55_Template, 25, 40, \"div\", 27)(56, DashboardComponent_div_20_div_56_Template, 2, 0, \"div\", 28)(57, DashboardComponent_div_20_div_57_Template, 4, 4, \"div\", 35)(58, DashboardComponent_div_20_div_58_Template, 5, 12, \"div\", 35)(59, DashboardComponent_div_20_div_59_Template, 4, 4, \"div\", 35)(60, DashboardComponent_div_20_div_60_Template, 5, 12, \"div\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"mat-card\", 21)(62, \"mat-card-title\");\n    i0.ɵɵtext(63, \"ROC Curves\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(64, \"div\", 29);\n    i0.ɵɵtext(65, \"Churn & default across selected model family and horizon.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(66, \"canvas\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(67, \"mat-card\", 21)(68, \"mat-card-title\");\n    i0.ɵɵtext(69, \"Precision-Recall\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(70, \"div\", 29);\n    i0.ɵɵtext(71, \"Precision vs recall by threshold; useful for imbalanced risk flags.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(72, \"canvas\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(73, \"mat-card\", 21)(74, \"mat-card-title\");\n    i0.ɵɵtext(75, \"Portfolio What-if Scenario\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(76, \"p\", 29);\n    i0.ɵɵtext(77, \"Synthetic intervention: boost engagement for bottom quartile investors and improve DSCR/LTV for risky loans.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(78, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_Template_button_click_78_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.runPortfolioScenario());\n    });\n    i0.ɵɵtext(79, \"Run Scenario\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(80, DashboardComponent_div_20_div_80_Template, 13, 20, \"div\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(81, \"mat-card\", 21)(82, \"mat-card-title\");\n    i0.ɵɵtext(83, \"Data Readiness\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(84, DashboardComponent_div_20_div_84_Template, 27, 19, \"div\", 35)(85, DashboardComponent_div_20_div_85_Template, 2, 0, \"div\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(86, \"mat-card\", 21)(87, \"mat-card-title\");\n    i0.ɵɵtext(88, \"Investor Churn Buckets\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(89, \"canvas\", 31);\n    i0.ɵɵelementStart(90, \"p\", 36);\n    i0.ɵɵtext(91);\n    i0.ɵɵpipe(92, \"number\");\n    i0.ɵɵpipe(93, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(94, \"mat-card\", 21)(95, \"mat-card-title\");\n    i0.ɵɵtext(96, \"Loan Default Buckets\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(97, \"canvas\", 31);\n    i0.ɵɵelementStart(98, \"p\", 36);\n    i0.ɵɵtext(99);\n    i0.ɵɵpipe(100, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(101, \"mat-card\", 21)(102, \"mat-card-title\");\n    i0.ɵɵtext(103, \"Engagement Snapshot\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(104, \"p\", 36);\n    i0.ɵɵtext(105);\n    i0.ɵɵpipe(106, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(107, \"p\", 36);\n    i0.ɵɵtext(108);\n    i0.ɵɵpipe(109, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(110, DashboardComponent_div_20_p_110_Template, 2, 3, \"p\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(111, \"mat-card\", 38)(112, \"mat-card-title\");\n    i0.ɵɵtext(113, \"Top At-Risk Investors\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(114, DashboardComponent_div_20_table_114_Template, 11, 1, \"table\", 39)(115, DashboardComponent_div_20_ng_template_115_Template, 2, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(117, \"mat-card\", 38)(118, \"mat-card-title\");\n    i0.ɵɵtext(119, \"Top At-Risk Loans\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(120, DashboardComponent_div_20_table_120_Template, 15, 1, \"table\", 39)(121, DashboardComponent_div_20_ng_template_121_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(123, \"mat-card\", 38)(124, \"mat-card-title\");\n    i0.ɵɵtext(125, \"Sector Exposure\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(126, \"canvas\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(127, DashboardComponent_div_20_mat_card_127_Template, 15, 3, \"mat-card\", 40)(128, DashboardComponent_div_20_mat_card_128_Template, 15, 3, \"mat-card\", 40)(129, DashboardComponent_div_20_mat_card_129_Template, 12, 2, \"mat-card\", 40)(130, DashboardComponent_div_20_mat_card_130_Template, 12, 2, \"mat-card\", 40)(131, DashboardComponent_div_20_mat_card_131_Template, 5, 2, \"mat-card\", 32);\n    i0.ɵɵelementStart(132, \"mat-card\", 38)(133, \"mat-card-title\");\n    i0.ɵɵtext(134, \"Cohort Risk Averages\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(135, \"div\", 41)(136, \"div\")(137, \"div\", 6);\n    i0.ɵɵtext(138, \"Churn avg by risk tolerance\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(139, \"table\", 42);\n    i0.ɵɵtemplate(140, DashboardComponent_div_20_tr_140_Template, 6, 5, \"tr\", 43);\n    i0.ɵɵpipe(141, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(142, \"div\")(143, \"div\", 6);\n    i0.ɵɵtext(144, \"Churn avg by AUM band\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(145, \"table\", 42);\n    i0.ɵɵtemplate(146, DashboardComponent_div_20_tr_146_Template, 6, 5, \"tr\", 43);\n    i0.ɵɵpipe(147, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(148, \"div\")(149, \"div\", 6);\n    i0.ɵɵtext(150, \"Default avg by sector\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(151, \"table\", 42);\n    i0.ɵɵtemplate(152, DashboardComponent_div_20_tr_152_Template, 6, 5, \"tr\", 43);\n    i0.ɵɵpipe(153, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(154, DashboardComponent_div_20_div_154_Template, 15, 3, \"div\", 44)(155, DashboardComponent_div_20_div_155_Template, 15, 3, \"div\", 44);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(156, DashboardComponent_div_20_mat_card_156_Template, 7, 3, \"mat-card\", 40)(157, DashboardComponent_div_20_mat_card_157_Template, 24, 2, \"mat-card\", 40)(158, DashboardComponent_div_20_mat_card_158_Template, 13, 6, \"mat-card\", 32)(159, DashboardComponent_div_20_mat_card_159_Template, 25, 2, \"mat-card\", 32)(160, DashboardComponent_div_20_mat_card_160_Template, 25, 2, \"mat-card\", 32)(161, DashboardComponent_div_20_mat_card_161_Template, 5, 2, \"mat-card\", 32);\n    i0.ɵɵelementStart(162, \"mat-card\", 38)(163, \"mat-card-title\");\n    i0.ɵɵtext(164, \"AUM Distribution\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(165, \"canvas\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(166, \"mat-card\", 38)(167, \"mat-card-title\");\n    i0.ɵɵtext(168, \"Engagement & Yield (median)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(169, \"canvas\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(170, \"mat-card\", 38)(171, \"mat-card-title\");\n    i0.ɵɵtext(172, \"Churn & Default Trend (synthetic)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(173, \"canvas\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(174, \"mat-card\", 38)(175, \"mat-card-title\");\n    i0.ɵɵtext(176, \"DSCR Quantiles\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(177, \"canvas\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(178, \"mat-card\", 38)(179, \"mat-card-title\");\n    i0.ɵɵtext(180, \"Report Preview\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(181, DashboardComponent_div_20_pre_181_Template, 2, 1, \"pre\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(182, \"mat-card\", 46)(183, \"div\", 47)(184, \"mat-card-title\");\n    i0.ɵɵtext(185, \"Explain with AI\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(186, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_Template_button_click_186_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.aiOpen = !ctx_r0.aiOpen);\n    });\n    i0.ɵɵtext(187);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(188, DashboardComponent_div_20_div_188_Template, 11, 4, \"div\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(189, \"mat-card\", 38)(190, \"mat-card-title\");\n    i0.ɵɵtext(191);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(192, \"div\", 48)(193, \"mat-form-field\", 23)(194, \"mat-label\");\n    i0.ɵɵtext(195, \"Filter investors\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(196, \"input\", 49);\n    i0.ɵɵlistener(\"keyup\", function DashboardComponent_div_20_Template_input_keyup_196_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.applyInvestorFilter($event.target.value));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(197, \"div\", 50)(198, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_Template_button_click_198_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.setInvestorPage(-1));\n    });\n    i0.ɵɵtext(199, \"Prev\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(200, \"span\", 6);\n    i0.ɵɵtext(201);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(202, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_Template_button_click_202_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.setInvestorPage(1));\n    });\n    i0.ɵɵtext(203, \"Next\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(204, DashboardComponent_div_20_div_204_Template, 34, 7, \"div\", 51)(205, DashboardComponent_div_20_ng_template_205_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(207, \"mat-card\", 38)(208, \"mat-card-title\");\n    i0.ɵɵtext(209);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(210, \"div\", 48)(211, \"mat-form-field\", 23)(212, \"mat-label\");\n    i0.ɵɵtext(213, \"Filter loans\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(214, \"input\", 52);\n    i0.ɵɵlistener(\"keyup\", function DashboardComponent_div_20_Template_input_keyup_214_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.applyLoanFilter($event.target.value));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(215, \"div\", 50)(216, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_Template_button_click_216_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.setLoanPage(-1));\n    });\n    i0.ɵɵtext(217, \"Prev\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(218, \"span\", 6);\n    i0.ɵɵtext(219);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(220, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_20_Template_button_click_220_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.setLoanPage(1));\n    });\n    i0.ɵɵtext(221, \"Next\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(222, DashboardComponent_div_20_div_222_Template, 32, 7, \"div\", 51)(223, DashboardComponent_div_20_ng_template_223_Template, 2, 0, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(225, DashboardComponent_div_20_mat_card_225_Template, 5, 2, \"mat-card\", 40);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_32_0;\n    let tmp_34_0;\n    let tmp_74_0;\n    let tmp_76_0;\n    let tmp_79_0;\n    const noInvestors_r49 = i0.ɵɵreference(116);\n    const noLoans_r50 = i0.ɵɵreference(122);\n    const noInvestorRows_r51 = i0.ɵɵreference(206);\n    const noLoanRows_r52 = i0.ɵɵreference(224);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"value\", ctx_r0.selectedFamily);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.modelFamilies);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Horizon: \", ctx_r0.selectedHorizon, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.familyMetrics().churn);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.familyMetrics().churn);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"Metrics for \", ctx_r0.selectedFamily, \" @ \", ctx_r0.selectedHorizon, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"data\", ctx_r0.radarData)(\"type\", \"radar\")(\"options\", i0.ɵɵpureFunction2(133, _c5, i0.ɵɵpureFunction1(128, _c2, i0.ɵɵpureFunction1(126, _c1, i0.ɵɵpureFunction0(125, _c0))), i0.ɵɵpureFunction1(131, _c4, i0.ɵɵpureFunction0(130, _c3))));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"From training labels for \", ctx_r0.selectedFamily, \" @ \", ctx_r0.selectedHorizon, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"data\", ctx_r0.bucketData)(\"options\", ctx_r0.chartOptions)(\"type\", \"bar\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"value\", ctx_r0.compareFamily);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.modelFamilies);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"data\", ctx_r0.compareRoc)(\"options\", ctx_r0.lineOptions)(\"type\", \"line\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"data\", ctx_r0.comparePr)(\"options\", ctx_r0.lineOptions)(\"type\", \"line\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.driftSummary);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.thresholdValue);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.costFP);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.costFN);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.thresholdStats().churn);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.thresholdStats().churn);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ((tmp_32_0 = ctx_r0.thresholdStats().churn) == null ? null : tmp_32_0.tp) !== undefined);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.thresholdCost(\"churn\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ((tmp_34_0 = ctx_r0.thresholdStats().default) == null ? null : tmp_34_0.tp) !== undefined);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.thresholdCost(\"default\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"data\", ctx_r0.rocData)(\"options\", ctx_r0.lineOptions)(\"type\", \"line\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"data\", ctx_r0.prData)(\"options\", ctx_r0.lineOptions)(\"type\", \"line\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.loading);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.scenarioResult);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.dataAudit);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.dataAudit);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"data\", i0.ɵɵpureFunction2(142, _c9, ctx_r0.charts.churnBuckets.labels, i0.ɵɵpureFunction1(140, _c8, i0.ɵɵpureFunction2(137, _c7, ctx_r0.charts.churnBuckets.data, i0.ɵɵpureFunction0(136, _c6)))))(\"options\", ctx_r0.chartOptions)(\"type\", \"bar\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" Avg churn risk: \", i0.ɵɵpipeBind2(92, 104, ctx_r0.report == null ? null : ctx_r0.report.summary_kpis.avg_churn_risk, \"1.2-2\"), \" (prev: \", i0.ɵɵpipeBind2(93, 107, ctx_r0.report == null ? null : ctx_r0.report.summary_kpis.prev_day_avg_churn_risk, \"1.2-2\"), \") \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"data\", i0.ɵɵpureFunction2(151, _c9, ctx_r0.charts.defaultBuckets.labels, i0.ɵɵpureFunction1(149, _c8, i0.ɵɵpureFunction2(146, _c7, ctx_r0.charts.defaultBuckets.data, i0.ɵɵpureFunction0(145, _c6)))))(\"options\", ctx_r0.chartOptions)(\"type\", \"bar\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" High-risk exposure: $\", i0.ɵɵpipeBind2(100, 110, ctx_r0.report == null ? null : ctx_r0.report.summary_kpis.high_default_exposure, \"1.0-0\"), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Avg engagement: \", i0.ɵɵpipeBind2(106, 113, ctx_r0.report == null ? null : ctx_r0.report.summary_kpis.engagement_avg, \"1.1-1\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Avg email open rate: \", i0.ɵɵpipeBind2(109, 116, ctx_r0.report == null ? null : ctx_r0.report.summary_kpis.email_open_avg, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.report == null ? null : ctx_r0.report.summary_kpis.churn_by_tolerance);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.topInvestors().length)(\"ngIfElse\", noInvestors_r49);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.topLoans().length)(\"ngIfElse\", noLoans_r50);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"data\", i0.ɵɵpureFunction2(158, _c9, ctx_r0.charts.sectorExposure.labels, i0.ɵɵpureFunction1(156, _c8, i0.ɵɵpureFunction1(154, _c10, ctx_r0.charts.sectorExposure.data))))(\"options\", ctx_r0.chartOptions)(\"type\", \"bar\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.analyticsRaw == null ? null : ctx_r0.analyticsRaw.cohort_risk == null ? null : ctx_r0.analyticsRaw.cohort_risk.sector_bucket_matrix);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.analyticsRaw == null ? null : ctx_r0.analyticsRaw.cohort_risk == null ? null : ctx_r0.analyticsRaw.cohort_risk.aum_tolerance_matrix);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.heatmap(\"churn_risk_tolerance_by_aum\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.heatmap(\"default_sector_by_ltv\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.cohortModels().churn || ctx_r0.cohortModels().default);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(141, 119, ctx_r0.cohortRisk().churn_avg_by_risk_tolerance));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(147, 121, ctx_r0.cohortRisk().churn_avg_by_aum_band));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(153, 123, ctx_r0.cohortRisk().default_avg_by_sector));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.cohortRisk().sector_bucket_matrix);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.cohortRisk().aum_tolerance_matrix);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ((tmp_74_0 = ctx_r0.segmentScores()) == null ? null : tmp_74_0.churn) || ((tmp_74_0 = ctx_r0.segmentScores()) == null ? null : tmp_74_0.default));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.predictorBenchmarks().churn.length || ctx_r0.predictorBenchmarks().default.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_76_0 = ctx_r0.hyperparams()) == null ? null : tmp_76_0.churn);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.sensitivityRows().churn.length || ctx_r0.sensitivityRows().default.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.imputationRows().churn.length || ctx_r0.imputationRows().default.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ((tmp_79_0 = ctx_r0.bootstrapStats()) == null ? null : tmp_79_0.churn) || ((tmp_79_0 = ctx_r0.bootstrapStats()) == null ? null : tmp_79_0.default));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"data\", i0.ɵɵpureFunction2(165, _c9, ctx_r0.charts.aumBuckets.labels, i0.ɵɵpureFunction1(163, _c8, i0.ɵɵpureFunction1(161, _c11, ctx_r0.charts.aumBuckets.data))))(\"options\", ctx_r0.chartOptions)(\"type\", \"bar\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"data\", i0.ɵɵpureFunction2(174, _c9, (ctx_r0.charts.yieldEngagementTrend == null ? null : ctx_r0.charts.yieldEngagementTrend.labels) || i0.ɵɵpureFunction0(168, _c12), i0.ɵɵpureFunction1(172, _c8, i0.ɵɵpureFunction1(170, _c13, (ctx_r0.charts.yieldEngagementTrend == null ? null : ctx_r0.charts.yieldEngagementTrend.data) || i0.ɵɵpureFunction0(169, _c12)))))(\"options\", i0.ɵɵpureFunction2(189, _c5, i0.ɵɵpureFunction1(178, _c2, i0.ɵɵpureFunction0(177, _c14)), i0.ɵɵpureFunction2(186, _c17, i0.ɵɵpureFunction1(181, _c15, i0.ɵɵpureFunction0(180, _c0)), i0.ɵɵpureFunction1(184, _c16, i0.ɵɵpureFunction0(183, _c0)))))(\"type\", \"line\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"data\", i0.ɵɵpureFunction2(199, _c9, ctx_r0.timeline.dates, i0.ɵɵpureFunction2(196, _c20, i0.ɵɵpureFunction1(192, _c18, ctx_r0.timeline.churn), i0.ɵɵpureFunction1(194, _c19, ctx_r0.timeline.default))))(\"options\", i0.ɵɵpureFunction2(216, _c5, i0.ɵɵpureFunction1(205, _c2, i0.ɵɵpureFunction1(203, _c1, i0.ɵɵpureFunction0(202, _c0))), i0.ɵɵpureFunction2(213, _c17, i0.ɵɵpureFunction1(208, _c15, i0.ɵɵpureFunction0(207, _c0)), i0.ɵɵpureFunction1(211, _c16, i0.ɵɵpureFunction0(210, _c0)))))(\"type\", \"line\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"data\", i0.ɵɵpureFunction2(225, _c9, (ctx_r0.charts.dscrSummary == null ? null : ctx_r0.charts.dscrSummary.labels) || i0.ɵɵpureFunction0(219, _c12), i0.ɵɵpureFunction1(223, _c8, i0.ɵɵpureFunction1(221, _c21, (ctx_r0.charts.dscrSummary == null ? null : ctx_r0.charts.dscrSummary.data) || i0.ɵɵpureFunction0(220, _c12)))))(\"options\", ctx_r0.chartOptions)(\"type\", \"bar\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.report);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.aiOpen ? \"Minimize\" : \"Open\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.aiOpen);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Sample Investors (\", ctx_r0.filteredInvestors().length, \")\");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate2(\"Page \", ctx_r0.investorPage + 1, \" / \", ctx_r0.Math.max(1, ctx_r0.Math.ceil(ctx_r0.filteredInvestors().length / ctx_r0.pageSize)), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.filteredInvestors().length)(\"ngIfElse\", noInvestorRows_r51);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Sample Loans (\", ctx_r0.filteredLoans().length, \")\");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate2(\"Page \", ctx_r0.loanPage + 1, \" / \", ctx_r0.Math.max(1, ctx_r0.Math.ceil(ctx_r0.filteredLoans().length / ctx_r0.pageSize)), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.filteredLoans().length)(\"ngIfElse\", noLoanRows_r52);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedInvestor || ctx_r0.selectedLoan);\n  }\n}\nexport let DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    constructor(api, snackBar, cdr) {\n      this.api = api;\n      this.snackBar = snackBar;\n      this.cdr = cdr;\n      this.investors = [];\n      this.loans = [];\n      this.Math = Math;\n      this.loading = false;\n      this.charts = {\n        churnBuckets: {\n          labels: [],\n          data: []\n        },\n        defaultBuckets: {\n          labels: [],\n          data: []\n        },\n        sectorExposure: {\n          labels: [],\n          data: []\n        },\n        aumBuckets: {\n          labels: [],\n          data: []\n        },\n        yieldEngagementTrend: {\n          labels: [],\n          data: []\n        },\n        dscrSummary: {\n          labels: [],\n          data: []\n        }\n      };\n      this.timeline = {\n        dates: [],\n        churn: [],\n        default: []\n      };\n      this.chartOptions = {\n        responsive: true,\n        plugins: {\n          legend: {\n            display: false\n          }\n        },\n        scales: {\n          x: {\n            ticks: {\n              color: \"#9bb0c9\"\n            },\n            grid: {\n              color: \"rgba(255,255,255,0.05)\"\n            }\n          },\n          y: {\n            ticks: {\n              color: \"#9bb0c9\"\n            },\n            grid: {\n              color: \"rgba(255,255,255,0.05)\"\n            },\n            beginAtZero: true\n          }\n        }\n      };\n      this.samples = {\n        investors: [],\n        loans: []\n      };\n      this.investorRows = [];\n      this.loanRows = [];\n      this.investorCount = 0;\n      this.loanCount = 0;\n      this.investorFilter = \"\";\n      this.loanFilter = \"\";\n      this.investorSortKey = \"\";\n      this.investorSortDir = \"asc\";\n      this.loanSortKey = \"\";\n      this.loanSortDir = \"asc\";\n      this.investorPage = 0;\n      this.loanPage = 0;\n      this.pageSize = 5;\n      this.pageSizeOptions = [5, 10, 25];\n      this.aiQuestion = \"\";\n      this.aiAnswer = \"\";\n      this.aiLoading = false;\n      this.aiHistory = [];\n      this.selectedHorizon = \"6m\";\n      this.aiOpen = true;\n      this.modelFamilies = [{\n        id: \"ensemble\",\n        label: \"Ensemble (RF+GB)\"\n      }, {\n        id: \"rf\",\n        label: \"Random Forest\"\n      }, {\n        id: \"logreg\",\n        label: \"Logistic Regression\"\n      }, {\n        id: \"adaboost\",\n        label: \"AdaBoost\"\n      }, {\n        id: \"knn\",\n        label: \"k-NN (local)\"\n      }];\n      this.selectedFamily = \"ensemble\";\n      this.compareFamily = \"adaboost\";\n      this.thresholdValue = 0.5;\n      this.costFP = 1000;\n      this.costFN = 5000;\n      this.alerts = {\n        investors: [],\n        loans: [],\n        summary: {}\n      };\n      this.slaThreshold = 5;\n      this.selectedInvestor = null;\n      this.selectedLoan = null;\n      this.rocData = {\n        datasets: []\n      };\n      this.prData = {\n        datasets: []\n      };\n      this.radarData = {\n        labels: [],\n        datasets: []\n      };\n      this.bucketData = {\n        labels: [\"Low\", \"Medium\", \"High\"],\n        datasets: []\n      };\n      this.compareRoc = {\n        datasets: []\n      };\n      this.comparePr = {\n        datasets: []\n      };\n      this.lineOptions = {\n        responsive: true,\n        plugins: {\n          legend: {\n            display: true,\n            labels: {\n              color: \"#9bb0c9\"\n            }\n          }\n        },\n        elements: {\n          point: {\n            radius: 2\n          }\n        },\n        parsing: false,\n        scales: {\n          x: {\n            type: \"linear\",\n            min: 0,\n            max: 1,\n            ticks: {\n              color: \"#9bb0c9\"\n            },\n            grid: {\n              color: \"rgba(255,255,255,0.08)\"\n            }\n          },\n          y: {\n            min: 0,\n            max: 1,\n            ticks: {\n              color: \"#9bb0c9\"\n            },\n            grid: {\n              color: \"rgba(255,255,255,0.08)\"\n            }\n          }\n        }\n      };\n      this.segmentHeatmaps = {};\n    }\n    ngOnInit() {\n      this.loadData();\n    }\n    loadData() {\n      this.loading = true;\n      this.api.batchRefresh().subscribe({\n        next: () => {\n          forkJoin({\n            investors: this.api.getInvestors(),\n            loans: this.api.getLoans(),\n            report: this.api.generateReport(),\n            analytics: this.api.getAnalyticsOverview(),\n            samples: this.api.getAnalyticsSamples(50),\n            metrics: this.api.getAllModelMetrics(),\n            drift: this.api.getDrift().pipe(catchError(() => of(null))),\n            audit: this.api.getDataAudit().pipe(catchError(() => of(null))),\n            alerts: this.api.getAlerts().pipe(catchError(() => of(null))),\n            timeline: this.api.getTimeline(45).pipe(catchError(() => of({\n              dates: [],\n              churn: [],\n              default: []\n            })))\n          }).subscribe({\n            next: ({\n              investors,\n              loans,\n              report,\n              analytics,\n              samples,\n              timeline,\n              metrics,\n              drift,\n              audit,\n              alerts\n            }) => {\n              this.investors = investors.items;\n              this.loans = loans.items;\n              this.report = report;\n              this.samples = samples;\n              this.timeline = timeline;\n              this.analyticsRaw = analytics;\n              this.modelMetrics = metrics;\n              this.segmentHeatmaps = metrics?.segment_heatmaps || {};\n              this.driftSummary = drift;\n              this.dataAudit = audit;\n              this.alerts = alerts;\n              this.updateCurveData();\n              // prefer full investor/loan lists to avoid empty sample payloads\n              this.investorRows = investors.items || [];\n              this.loanRows = loans.items || [];\n              this.investorCount = investors.items?.length || 0;\n              this.loanCount = loans.items?.length || 0;\n              this.populateCharts(analytics);\n              this.loading = false;\n              this.cdr.detectChanges();\n            },\n            error: err => this.handleError(\"Failed to load dashboard data\", err)\n          });\n        },\n        error: err => this.handleError(\"Failed to refresh scores\", err)\n      });\n    }\n    refreshReport() {\n      this.loading = true;\n      this.api.generateReport().subscribe({\n        next: report => {\n          this.report = report;\n          this.loading = false;\n          this.snackBar.open(\"Report refreshed\", \"Close\", {\n            duration: 2000\n          });\n        },\n        error: err => this.handleError(\"Failed to refresh report\", err)\n      });\n    }\n    changeHorizon(h) {\n      this.selectedHorizon = h;\n      if (this.analyticsRaw) {\n        this.populateCharts(this.analyticsRaw);\n      }\n      this.updateCurveData();\n    }\n    changeFamily(fam) {\n      this.selectedFamily = fam;\n      this.updateCurveData();\n      this.updateRadar();\n      this.updateComparisonCurves();\n    }\n    explainDashboard() {\n      this.aiQuestion = \"Explain today’s dashboard risk picture in 3 bullets.\";\n      this.askAi();\n    }\n    heatmap(name) {\n      return this.segmentHeatmaps?.[name];\n    }\n    investorBuckets() {\n      return this.report?.summary_kpis.investor_buckets || {\n        Low: 0,\n        Medium: 0,\n        High: 0\n      };\n    }\n    loanBuckets() {\n      return this.report?.summary_kpis.loan_buckets || {\n        Low: 0,\n        Medium: 0,\n        High: 0\n      };\n    }\n    topInvestors() {\n      return this.report?.summary_kpis.top_investors || [];\n    }\n    topLoans() {\n      return this.report?.summary_kpis.top_loans || [];\n    }\n    formatPercent(prob) {\n      if (prob === undefined || prob === null) {\n        return \"0.0%\";\n      }\n      return `${(prob * 100).toFixed(1)}%`;\n    }\n    populateCharts(analytics) {\n      if (!analytics) {\n        this.charts.churnBuckets = {\n          labels: [\"Low\", \"Medium\", \"High\"],\n          data: [0, 0, 0]\n        };\n        this.charts.defaultBuckets = {\n          labels: [\"Low\", \"Medium\", \"High\"],\n          data: [0, 0, 0]\n        };\n        this.charts.sectorExposure = {\n          labels: [],\n          data: []\n        };\n        this.charts.aumBuckets = {\n          labels: [],\n          data: []\n        };\n        this.charts.yieldEngagementTrend = {\n          labels: [],\n          data: []\n        };\n        this.charts.dscrSummary = {\n          labels: [\"p25\", \"p50\", \"p75\"],\n          data: [0, 0, 0]\n        };\n        return;\n      }\n      const h = this.selectedHorizon;\n      const churnSrc = analytics.churn_buckets_by_horizon?.[h] || analytics.churn_buckets || {};\n      const defaultSrc = analytics.default_buckets_by_horizon?.[h] || analytics.default_buckets || {};\n      this.charts.churnBuckets = {\n        labels: Object.keys(churnSrc || {}),\n        data: Object.values(churnSrc || {})\n      };\n      this.charts.defaultBuckets = {\n        labels: Object.keys(defaultSrc || {}),\n        data: Object.values(defaultSrc || {})\n      };\n      const sortedSector = Object.entries(analytics.sector_exposure || {}).sort((a, b) => b[1].exposure - a[1].exposure);\n      this.charts.sectorExposure = {\n        labels: sortedSector.map(s => s[0]),\n        data: sortedSector.map(s => s[1].exposure)\n      };\n      this.charts.aumBuckets = {\n        labels: Object.keys(analytics.aum_buckets || {}),\n        data: Object.values(analytics.aum_buckets || {})\n      };\n      // Create a simple line series for yield and engagement medians to show trend-like context\n      const yieldMed = analytics.distribution_yield?.p50 ?? 0;\n      const engMed = analytics.engagement?.p50 ?? 0;\n      this.charts.yieldEngagementTrend = {\n        labels: [\"Engagement median\", \"Yield median\"],\n        data: [engMed, yieldMed * 100]\n      };\n      const dscr = analytics.dscr || {};\n      this.charts.dscrSummary = {\n        labels: [\"p25\", \"p50\", \"p75\"],\n        data: [dscr.p25 ?? 0, dscr.p50 ?? 0, dscr.p75 ?? 0]\n      };\n    }\n    applyInvestorFilter(filterValue) {\n      this.investorFilter = filterValue.trim().toLowerCase();\n      this.investorPage = 0;\n    }\n    applyLoanFilter(filterValue) {\n      this.loanFilter = filterValue.trim().toLowerCase();\n      this.loanPage = 0;\n    }\n    filteredInvestors() {\n      const term = this.investorFilter || \"\";\n      if (!term) return this.investorRows;\n      return this.investorRows.filter(i => [i.name, i.risk_tolerance, i.risk_bucket].some(v => (v || \"\").toString().toLowerCase().includes(term)));\n    }\n    filteredLoans() {\n      const term = this.loanFilter || \"\";\n      if (!term) return this.loanRows;\n      return this.loanRows.filter(l => [l.id, l.sector, l.risk_bucket].some(v => (v || \"\").toString().toLowerCase().includes(term)));\n    }\n    sortArray(arr, key, dir) {\n      if (!key) return arr;\n      return [...arr].sort((a, b) => {\n        const va = a?.[key] ?? \"\";\n        const vb = b?.[key] ?? \"\";\n        if (va < vb) return dir === \"asc\" ? -1 : 1;\n        if (va > vb) return dir === \"asc\" ? 1 : -1;\n        return 0;\n      });\n    }\n    sortedInvestors() {\n      return this.sortArray(this.filteredInvestors(), this.investorSortKey, this.investorSortDir);\n    }\n    sortedLoans() {\n      return this.sortArray(this.filteredLoans(), this.loanSortKey, this.loanSortDir);\n    }\n    pagedInvestors() {\n      const start = this.investorPage * this.pageSize;\n      return this.sortedInvestors().slice(start, start + this.pageSize);\n    }\n    pagedLoans() {\n      const start = this.loanPage * this.pageSize;\n      return this.sortedLoans().slice(start, start + this.pageSize);\n    }\n    setInvestorPage(delta) {\n      const total = this.filteredInvestors().length;\n      const maxPage = Math.max(0, Math.ceil(total / this.pageSize) - 1);\n      this.investorPage = Math.min(maxPage, Math.max(0, this.investorPage + delta));\n    }\n    setLoanPage(delta) {\n      const total = this.filteredLoans().length;\n      const maxPage = Math.max(0, Math.ceil(total / this.pageSize) - 1);\n      this.loanPage = Math.min(maxPage, Math.max(0, this.loanPage + delta));\n    }\n    changePageSize(size) {\n      this.pageSize = size;\n      this.investorPage = 0;\n      this.loanPage = 0;\n    }\n    toggleInvestorSort(key) {\n      if (this.investorSortKey === key) {\n        this.investorSortDir = this.investorSortDir === \"asc\" ? \"desc\" : \"asc\";\n      } else {\n        this.investorSortKey = key;\n        this.investorSortDir = \"asc\";\n      }\n      this.investorPage = 0;\n    }\n    toggleLoanSort(key) {\n      if (this.loanSortKey === key) {\n        this.loanSortDir = this.loanSortDir === \"asc\" ? \"desc\" : \"asc\";\n      } else {\n        this.loanSortKey = key;\n        this.loanSortDir = \"asc\";\n      }\n      this.loanPage = 0;\n    }\n    askAi() {\n      if (!this.aiQuestion) return;\n      this.aiLoading = true;\n      this.aiHistory.push({\n        role: \"user\",\n        content: this.aiQuestion\n      });\n      const context = {\n        report: this.report,\n        charts: this.charts,\n        timeline: this.timeline,\n        topInvestors: this.topInvestors(),\n        topLoans: this.topLoans(),\n        samples: this.samples\n      };\n      this.api.askAi(this.aiQuestion, \"dashboard\", context, this.aiHistory).subscribe({\n        next: resp => {\n          this.aiAnswer = resp.answer;\n          this.aiHistory.push({\n            role: \"assistant\",\n            content: resp.answer\n          });\n          this.aiLoading = false;\n          this.aiQuestion = \"\";\n        },\n        error: err => this.handleError(\"AI explanation failed\", err)\n      });\n    }\n    handleError(message, err) {\n      console.error(message, err);\n      this.loading = false;\n      this.snackBar.open(message, \"Close\", {\n        duration: 3000\n      });\n    }\n    familyMetrics() {\n      const famBlock = this.modelMetrics?.model_families || {};\n      const h = this.selectedHorizon;\n      return {\n        churn: famBlock.churn?.[this.selectedFamily]?.[h],\n        default: famBlock.default?.[this.selectedFamily]?.[h]\n      };\n    }\n    thresholdsFor(problem) {\n      const famBlock = this.modelMetrics?.model_families?.[problem]?.[this.selectedFamily]?.[this.selectedHorizon];\n      const familyThresholds = famBlock?.thresholds || [];\n      if (familyThresholds.length) return familyThresholds;\n      return this.modelMetrics?.thresholds?.[problem]?.[this.selectedHorizon] || [];\n    }\n    cohortRisk() {\n      return this.analyticsRaw?.cohort_risk || {};\n    }\n    nearestThreshold(problem) {\n      const thresholds = this.thresholdsFor(problem);\n      if (!thresholds.length) return null;\n      let best = thresholds[0];\n      let bestDiff = Math.abs(best.threshold - this.thresholdValue);\n      for (const t of thresholds) {\n        const diff = Math.abs(t.threshold - this.thresholdValue);\n        if (diff < bestDiff) {\n          best = t;\n          bestDiff = diff;\n        }\n      }\n      return best;\n    }\n    thresholdStats() {\n      return {\n        churn: this.nearestThreshold(\"churn\"),\n        default: this.nearestThreshold(\"default\")\n      };\n    }\n    segmentScores() {\n      return this.analyticsRaw?.segment_scores || {};\n    }\n    predictorBenchmarks() {\n      const bench = this.modelMetrics?.single_feature_benchmarks || {};\n      const toRows = obj => Object.entries(obj || {}).map(([name, val]) => ({\n        name,\n        auc: val?.roc_auc || 0\n      })).sort((a, b) => b.auc - a.auc);\n      return {\n        churn: toRows(bench.churn),\n        default: toRows(bench.default)\n      };\n    }\n    hyperparams() {\n      return this.modelMetrics?.hyperparameters || {};\n    }\n    sensitivityRows() {\n      const sens = this.modelMetrics?.sensitivity || {};\n      const toRows = obj => Object.entries(obj || {}).map(([feat, vals]) => ({\n        feature: feat,\n        up: (vals?.up_flip_pct || 0) * 100,\n        down: (vals?.down_flip_pct || 0) * 100\n      })).sort((a, b) => b.up - a.up);\n      return {\n        churn: toRows(sens.churn),\n        default: toRows(sens.default)\n      };\n    }\n    thresholdCost(problem) {\n      const stats = this.thresholdStats()[problem];\n      if (!stats) return null;\n      const fp = stats.fp || 0;\n      const fn = stats.fn || 0;\n      return {\n        fp,\n        fn,\n        cost_fp: fp * this.costFP,\n        cost_fn: fn * this.costFN,\n        total: fp * this.costFP + fn * this.costFN\n      };\n    }\n    runPortfolioScenario() {\n      this.loading = true;\n      this.api.runPortfolioScenario({\n        horizon: this.selectedHorizon\n      }).subscribe({\n        next: resp => {\n          this.scenarioResult = resp;\n          this.loading = false;\n          this.snackBar.open(\"Scenario calculated\", \"Close\", {\n            duration: 2000\n          });\n        },\n        error: err => this.handleError(\"Failed to run portfolio scenario\", err)\n      });\n    }\n    imputationRows() {\n      const missing = this.modelMetrics?.missing_data || {};\n      const toRows = obj => Object.entries(obj || {}).map(([name, vals]) => ({\n        strategy: name,\n        auc: vals?.roc_auc || 0,\n        ap: vals?.avg_precision || 0\n      }));\n      return {\n        churn: toRows(missing.churn),\n        default: toRows(missing.default)\n      };\n    }\n    bootstrapStats() {\n      return this.modelMetrics?.bootstrap_ci || {};\n    }\n    cohortModels() {\n      return this.modelMetrics?.cohort_models || {};\n    }\n    selectInvestor(inv) {\n      this.selectedInvestor = inv;\n      this.selectedLoan = null;\n    }\n    selectLoan(loan) {\n      this.selectedLoan = loan;\n      this.selectedInvestor = null;\n    }\n    updateCurveData() {\n      const churnThr = this.thresholdsFor(\"churn\");\n      const defaultThr = this.thresholdsFor(\"default\");\n      this.rocData = {\n        datasets: [{\n          label: \"Churn ROC\",\n          data: churnThr.map(t => ({\n            x: t.fpr,\n            y: t.tpr\n          })),\n          borderColor: \"#19c3b1\",\n          backgroundColor: \"rgba(25,195,177,0.2)\",\n          tension: 0.15,\n          showLine: true,\n          fill: false\n        }, {\n          label: \"Default ROC\",\n          data: defaultThr.map(t => ({\n            x: t.fpr,\n            y: t.tpr\n          })),\n          borderColor: \"#4f46e5\",\n          backgroundColor: \"rgba(79,70,229,0.2)\",\n          tension: 0.15,\n          showLine: true,\n          fill: false\n        }]\n      };\n      this.prData = {\n        datasets: [{\n          label: \"Churn PR\",\n          data: churnThr.map(t => ({\n            x: t.recall,\n            y: t.precision\n          })),\n          borderColor: \"#10b981\",\n          backgroundColor: \"rgba(16,185,129,0.2)\",\n          tension: 0.15,\n          showLine: true,\n          fill: false\n        }, {\n          label: \"Default PR\",\n          data: defaultThr.map(t => ({\n            x: t.recall,\n            y: t.precision\n          })),\n          borderColor: \"#f59e0b\",\n          backgroundColor: \"rgba(245,158,11,0.2)\",\n          tension: 0.15,\n          showLine: true,\n          fill: false\n        }]\n      };\n      this.updateRadar();\n      this.updateComparisonCurves();\n    }\n    updateRadar() {\n      const fam = this.familyMetrics();\n      const churn = fam?.churn || {};\n      const defm = fam?.default || {};\n      const labels = [\"Accuracy\", \"Precision\", \"Recall\", \"ROC AUC\", \"Avg Precision\"];\n      const churnVals = [churn.accuracy || 0, churn.precision || 0, churn.recall || 0, churn.roc_auc || 0, churn.avg_precision || 0];\n      const defVals = [defm.accuracy || 0, defm.precision || 0, defm.recall || 0, defm.roc_auc || 0, defm.avg_precision || 0];\n      this.radarData = {\n        labels,\n        datasets: [{\n          label: \"Churn\",\n          data: churnVals,\n          borderColor: \"#19c3b1\",\n          backgroundColor: \"rgba(25,195,177,0.2)\"\n        }, {\n          label: \"Default\",\n          data: defVals,\n          borderColor: \"#4f46e5\",\n          backgroundColor: \"rgba(79,70,229,0.2)\"\n        }]\n      };\n      const churnBuckets = [churn.bucket_low || 0, churn.bucket_med || 0, churn.bucket_high || 0];\n      const defaultBuckets = [defm.bucket_low || 0, defm.bucket_med || 0, defm.bucket_high || 0];\n      this.bucketData = {\n        labels: [\"Low\", \"Medium\", \"High\"],\n        datasets: [{\n          label: \"Churn buckets\",\n          data: churnBuckets,\n          backgroundColor: \"rgba(25,195,177,0.4)\"\n        }, {\n          label: \"Default buckets\",\n          data: defaultBuckets,\n          backgroundColor: \"rgba(79,70,229,0.4)\"\n        }]\n      };\n    }\n    changeCompareFamily(f) {\n      this.compareFamily = f;\n      this.updateComparisonCurves();\n    }\n    thresholdsForFamily(problem, family) {\n      const famBlock = this.modelMetrics?.model_families?.[problem]?.[family]?.[this.selectedHorizon];\n      return famBlock?.thresholds || [];\n    }\n    updateComparisonCurves() {\n      const famA = this.selectedFamily;\n      const famB = this.compareFamily;\n      const churnA = this.thresholdsForFamily(\"churn\", famA);\n      const churnB = this.thresholdsForFamily(\"churn\", famB);\n      const defA = this.thresholdsForFamily(\"default\", famA);\n      const defB = this.thresholdsForFamily(\"default\", famB);\n      this.compareRoc = {\n        datasets: [{\n          label: `Churn ${famA}`,\n          data: churnA.map(t => ({\n            x: t.fpr,\n            y: t.tpr\n          })),\n          borderColor: \"#19c3b1\",\n          fill: false,\n          tension: 0.1\n        }, {\n          label: `Churn ${famB}`,\n          data: churnB.map(t => ({\n            x: t.fpr,\n            y: t.tpr\n          })),\n          borderColor: \"#f97316\",\n          fill: false,\n          tension: 0.1\n        }, {\n          label: `Default ${famA}`,\n          data: defA.map(t => ({\n            x: t.fpr,\n            y: t.tpr\n          })),\n          borderColor: \"#4f46e5\",\n          fill: false,\n          tension: 0.1\n        }, {\n          label: `Default ${famB}`,\n          data: defB.map(t => ({\n            x: t.fpr,\n            y: t.tpr\n          })),\n          borderColor: \"#22c55e\",\n          fill: false,\n          tension: 0.1\n        }]\n      };\n      this.comparePr = {\n        datasets: [{\n          label: `Churn ${famA}`,\n          data: churnA.map(t => ({\n            x: t.recall,\n            y: t.precision\n          })),\n          borderColor: \"#10b981\",\n          fill: false,\n          tension: 0.1\n        }, {\n          label: `Churn ${famB}`,\n          data: churnB.map(t => ({\n            x: t.recall,\n            y: t.precision\n          })),\n          borderColor: \"#f59e0b\",\n          fill: false,\n          tension: 0.1\n        }, {\n          label: `Default ${famA}`,\n          data: defA.map(t => ({\n            x: t.recall,\n            y: t.precision\n          })),\n          borderColor: \"#6366f1\",\n          fill: false,\n          tension: 0.1\n        }, {\n          label: `Default ${famB}`,\n          data: defB.map(t => ({\n            x: t.recall,\n            y: t.precision\n          })),\n          borderColor: \"#ef4444\",\n          fill: false,\n          tension: 0.1\n        }]\n      };\n    }\n    static {\n      this.ɵfac = function DashboardComponent_Factory(t) {\n        return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.MatSnackBar), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DashboardComponent,\n        selectors: [[\"app-dashboard\"]],\n        decls: 21,\n        vars: 6,\n        consts: [[\"noInvestors\", \"\"], [\"noLoans\", \"\"], [\"noInvestorRows\", \"\"], [\"noLoanRows\", \"\"], [1, \"actions\"], [1, \"page-title\"], [1, \"muted\"], [1, \"horizon-toggle\", 3, \"change\", \"value\"], [\"value\", \"3m\"], [\"value\", \"6m\"], [\"value\", \"12m\"], [1, \"action-buttons\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", 3, \"click\", \"disabled\"], [\"mat-stroked-button\", \"\", \"color\", \"accent\", 3, \"click\", \"disabled\"], [\"class\", \"timestamp\", 4, \"ngIf\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"grid\", 4, \"ngIf\"], [1, \"timestamp\"], [1, \"loading\"], [\"mode\", \"indeterminate\", \"diameter\", \"40\"], [1, \"grid\"], [1, \"summary-card\"], [1, \"model-select\"], [\"appearance\", \"fill\"], [3, \"selectionChange\", \"value\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"mat-stroked-button\", \"\", \"color\", \"accent\", 3, \"click\"], [\"class\", \"metric-row\", 4, \"ngIf\"], [\"class\", \"muted\", 4, \"ngIf\"], [1, \"muted\", \"small\"], [\"baseChart\", \"\", 3, \"data\", \"type\", \"options\"], [\"baseChart\", \"\", 3, \"data\", \"options\", \"type\"], [\"class\", \"summary-card\", 4, \"ngIf\"], [\"min\", \"0.1\", \"max\", \"0.9\", \"step\", \"0.02\", \"thumbLabel\", \"\", \"tickInterval\", \"0.1\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", 2, \"width\", \"80px\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"muted small\", 4, \"ngIf\"], [1, \"subtitle\"], [\"class\", \"subtitle\", 4, \"ngIf\"], [1, \"wide-card\"], [\"class\", \"data-table\", 4, \"ngIf\", \"ngIfElse\"], [\"class\", \"wide-card\", 4, \"ngIf\"], [1, \"cohort-grid\"], [1, \"data-table\", \"small-table\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"report-text\", 4, \"ngIf\"], [1, \"wide-card\", \"ai-card\"], [1, \"ai-header\"], [1, \"table-actions\"], [\"matInput\", \"\", \"placeholder\", \"Name, risk, etc.\", 3, \"keyup\"], [1, \"pager\"], [\"class\", \"table-wrap\", 4, \"ngIf\", \"ngIfElse\"], [\"matInput\", \"\", \"placeholder\", \"Sector, bucket, id...\", 3, \"keyup\"], [3, \"value\"], [1, \"metric-row\"], [1, \"metric-value\"], [1, \"data-table\"], [1, \"chip\", 3, \"ngClass\"], [1, \"heatmap-table\"], [1, \"report-text\"], [\"appearance\", \"fill\", 1, \"full-width\"], [\"matInput\", \"\", \"rows\", \"3\", \"placeholder\", \"e.g., Which sectors drive default risk?\", 3, \"ngModelChange\", \"ngModel\"], [1, \"ai-actions\"], [\"class\", \"ai-answer\", 4, \"ngIf\"], [1, \"ai-answer\"], [1, \"table-wrap\"], [1, \"sortable\", 3, \"click\"], [3, \"selected\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"appearance\", \"fill\", 1, \"page-size\"], [3, \"click\"]],\n        template: function DashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\")(2, \"div\", 5);\n            i0.ɵɵtext(3, \"Risk & Engagement Dashboard\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"div\", 6);\n            i0.ɵɵtext(5, \"Real-time snapshot of churn and default risk.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"mat-button-toggle-group\", 7);\n            i0.ɵɵlistener(\"change\", function DashboardComponent_Template_mat_button_toggle_group_change_6_listener($event) {\n              return ctx.changeHorizon($event.value);\n            });\n            i0.ɵɵelementStart(7, \"mat-button-toggle\", 8);\n            i0.ɵɵtext(8, \"3m\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"mat-button-toggle\", 9);\n            i0.ɵɵtext(10, \"6m\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"mat-button-toggle\", 10);\n            i0.ɵɵtext(12, \"12m\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(13, \"div\", 11)(14, \"button\", 12);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_14_listener() {\n              return ctx.refreshReport();\n            });\n            i0.ɵɵtext(15, \"Generate Report\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"button\", 13);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_16_listener() {\n              return ctx.loadData();\n            });\n            i0.ɵɵtext(17, \" Refresh Data \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(18, DashboardComponent_div_18_Template, 3, 4, \"div\", 14)(19, DashboardComponent_div_19_Template, 2, 0, \"div\", 15)(20, DashboardComponent_div_20_Template, 226, 228, \"div\", 16);\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"value\", ctx.selectedHorizon);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"disabled\", ctx.loading);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", ctx.loading);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.report);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          }\n        },\n        dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgModel, i5.MatButton, i6.MatCard, i6.MatCardTitle, i7.MatFormField, i7.MatLabel, i8.MatInput, i9.MatSelect, i10.MatOption, i11.MatProgressSpinner, i12.BaseChartDirective, i13.MatButtonToggleGroup, i13.MatButtonToggle, i14.MatSlider, i3.JsonPipe, i3.SlicePipe, i3.DecimalPipe, i3.PercentPipe, i3.DatePipe, i3.KeyValuePipe],\n        styles: [\".actions[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:1rem;gap:.5rem;flex-wrap:wrap}.horizon-toggle[_ngcontent-%COMP%]{align-self:center}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.timestamp[_ngcontent-%COMP%]{color:var(--muted);font-size:.95rem}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem 0}.grid[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}.summary-card[_ngcontent-%COMP%]   .bucket-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:.5rem;margin-top:.5rem}.bucket[_ngcontent-%COMP%]{padding:.75rem;border-radius:8px;background:var(--surface-2);border:1px solid var(--border);box-shadow:inset 0 1px #ffffff08}.bucket.high[_ngcontent-%COMP%]{border-color:#ef4444;color:#ef4444}.bucket.medium[_ngcontent-%COMP%]{border-color:#f59e0b;color:#f59e0b}.bucket.low[_ngcontent-%COMP%]{border-color:#22c55e;color:#22c55e}.bucket[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.subtitle[_ngcontent-%COMP%]{margin-top:.75rem;color:var(--muted)}.wide-card[_ngcontent-%COMP%]{grid-column:1/-1}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:.6rem .35rem;border-bottom:1px solid var(--border)}.chip[_ngcontent-%COMP%]{padding:.2rem .5rem;border-radius:999px;font-size:.85rem;text-transform:capitalize}.chip.high[_ngcontent-%COMP%]{background:#ef444433;color:#ef4444}.chip.medium[_ngcontent-%COMP%]{background:#f59e0b26;color:#f59e0b}.chip.low[_ngcontent-%COMP%]{background:#22c55e26;color:#22c55e}.muted[_ngcontent-%COMP%]{color:var(--muted)}.report-text[_ngcontent-%COMP%]{white-space:pre-wrap;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;background:var(--surface-2);padding:.75rem;border-radius:8px;border:1px solid var(--border)}.table-wrap[_ngcontent-%COMP%]{overflow:auto;background:#fff;border-radius:8px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;color:#0f172a;background:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.65rem .4rem;border-bottom:1px solid var(--border);text-align:left;color:#0f172a}th[_ngcontent-%COMP%]{background:#e2e8f0;font-weight:700}tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]{background:#f8fafc}.pager[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.35rem}.page-size[_ngcontent-%COMP%]{width:90px}.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.table-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.35rem;gap:.5rem}.sparkbar[_ngcontent-%COMP%]{display:inline-block;width:60px;height:6px;background:#ffffff14;border-radius:999px;position:relative;overflow:hidden}.sparkbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;background:linear-gradient(90deg,#19c3b1,#0ea5e9);border-radius:999px}.ai-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.ai-card[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.5rem}.ai-card[_ngcontent-%COMP%]   .ai-answer[_ngcontent-%COMP%]{margin-top:.75rem;padding:.75rem;border-radius:8px;background:var(--surface-2);color:#e2e8f0}.ai-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.selected[_ngcontent-%COMP%]{outline:2px solid #10b981;outline-offset:-2px}.model-select[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.metric-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}.metric-value[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:#19c3b1}.small[_ngcontent-%COMP%]{font-size:.9rem}.small[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:.25rem 0 0;padding-left:1rem}.cohort-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:.75rem}.small-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.35rem .25rem}.heatmap-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.heatmap-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .heatmap-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.08);padding:6px 8px;text-align:center}.heatmap-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ffffff0a}mat-slider[_ngcontent-%COMP%]{width:100%}.ai-answer[_ngcontent-%COMP%]{margin-top:.75rem;padding:.75rem;border-radius:8px;background:var(--surface-2);border:1px solid var(--border);white-space:pre-wrap}\"]\n      });\n    }\n  }\n  return DashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}