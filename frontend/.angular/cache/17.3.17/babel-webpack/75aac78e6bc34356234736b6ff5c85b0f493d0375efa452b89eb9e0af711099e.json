{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/material/select\";\nimport * as i10 from \"@angular/material/core\";\nimport * as i11 from \"@angular/material/progress-spinner\";\nimport * as i12 from \"ng2-charts\";\nconst _c0 = () => ({\n  color: \"#9bb0c9\"\n});\nconst _c1 = a0 => ({\n  labels: a0\n});\nconst _c2 = a0 => ({\n  legend: a0\n});\nconst _c3 = a0 => ({\n  ticks: a0\n});\nconst _c4 = a0 => ({\n  ticks: a0,\n  beginAtZero: true\n});\nconst _c5 = (a0, a1) => ({\n  x: a0,\n  y: a1\n});\nconst _c6 = (a0, a1) => ({\n  responsive: true,\n  plugins: a0,\n  scales: a1\n});\nconst _c7 = () => [\"high_risk_investors_6m\", \"high_risk_loans_6m\", \"high_risk_exposure_6m\", \"avg_churn_6m\", \"avg_default_6m\"];\nconst _c8 = (a0, a1) => ({\n  \"up\": a0,\n  \"down\": a1\n});\nfunction ReportComponent_mat_form_field_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-form-field\", 17)(1, \"mat-label\");\n    i0.ɵɵtext(2, \"Segment value\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 18);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ReportComponent_mat_form_field_19_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.segmentValue, $event) || (ctx_r1.segmentValue = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.segmentValue);\n  }\n}\nfunction ReportComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Generated \", i0.ɵɵpipeBind2(2, 1, ctx_r1.report == null ? null : ctx_r1.report.generated_at, \"short\"), \"\");\n  }\n}\nfunction ReportComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵelement(1, \"mat-progress-spinner\", 21);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReportComponent_div_30_div_1_mat_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 44)(1, \"div\", 45);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 46);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementStart(7, \"span\", 47);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"number\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const key_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 4, key_r4));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(6, 6, ctx_r1.deltas[key_r4] == null ? null : ctx_r1.deltas[key_r4].current, key_r4.includes(\"exposure\") ? \"1.0-0\" : \"1.2-2\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(12, _c8, ((ctx_r1.deltas[key_r4] == null ? null : ctx_r1.deltas[key_r4].delta) || 0) > 0, ((ctx_r1.deltas[key_r4] == null ? null : ctx_r1.deltas[key_r4].delta) || 0) < 0));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(9, 9, (ctx_r1.deltas[key_r4] == null ? null : ctx_r1.deltas[key_r4].delta) || 0, key_r4.includes(\"exposure\") ? \"1.0-0\" : \"1.2-2\"), \" \");\n  }\n}\nfunction ReportComponent_div_30_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtemplate(1, ReportComponent_div_30_div_1_mat_card_1_Template, 10, 15, \"mat-card\", 43);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(1, _c7));\n  }\n}\nfunction ReportComponent_div_30_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate3(\" High-risk churn by tolerance: low=\", (ctx_r1.report.summary_kpis.churn_by_tolerance == null ? null : ctx_r1.report.summary_kpis.churn_by_tolerance.low) || 0, \", medium=\", (ctx_r1.report.summary_kpis.churn_by_tolerance == null ? null : ctx_r1.report.summary_kpis.churn_by_tolerance.medium) || 0, \", high=\", (ctx_r1.report.summary_kpis.churn_by_tolerance == null ? null : ctx_r1.report.summary_kpis.churn_by_tolerance.high) || 0, \" \");\n  }\n}\nfunction ReportComponent_div_30_div_60_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const entry_r5 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate3(\" \", entry_r5[0], \" \\u2014 \", entry_r5[1].high, \" loans, $\", i0.ɵɵpipeBind2(2, 3, entry_r5[1].exposure, \"1.0-0\"), \" \");\n  }\n}\nfunction ReportComponent_div_30_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2);\n    i0.ɵɵtext(2, \"High-risk by sector:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 31);\n    i0.ɵɵtemplate(4, ReportComponent_div_30_div_60_li_4_Template, 3, 6, \"li\", 32);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.sectorEntries(ctx_r1.report.summary_kpis.sector_default));\n  }\n}\nfunction ReportComponent_div_30_li_65_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const inv_r6 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate3(\" \", inv_r6.name, \" - \", ctx_r1.formatPercent(inv_r6.probability), \" (\", inv_r6.bucket, \") \");\n  }\n}\nfunction ReportComponent_div_30_li_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const loan_r7 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate5(\" #\", loan_r7.id, \" in \", loan_r7.sector, \" - $\", i0.ɵɵpipeBind2(2, 5, loan_r7.amount, \"1.0-0\"), \" (\", ctx_r1.formatPercent(loan_r7.probability), \", \", loan_r7.bucket, \") \");\n  }\n}\nfunction ReportComponent_div_30_mat_card_86_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const entry_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(entry_r8[0]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(entry_r8[1].high);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(7, 3, entry_r8[1].exposure, \"1.0-0\"), \"\");\n  }\n}\nfunction ReportComponent_div_30_mat_card_86_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\")(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"Sector Exposure (High Risk)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\")(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"Sector\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"High-Risk Loans\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Exposure\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, ReportComponent_div_30_mat_card_86_tr_13_Template, 8, 6, \"tr\", 32);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.sectorEntries(ctx_r1.report.summary_kpis.sector_default));\n  }\n}\nfunction ReportComponent_div_30_li_95_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const inv_r9 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate3(\" \", inv_r9.name, \" \\u2014 \", ctx_r1.formatPercent(inv_r9.probability), \" (\", inv_r9.bucket, \") \");\n  }\n}\nfunction ReportComponent_div_30_li_100_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const loan_r10 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate5(\" #\", loan_r10.id, \" \", loan_r10.sector, \" \\u2014 $\", i0.ɵɵpipeBind2(2, 5, loan_r10.amount, \"1.0-0\"), \" (\", ctx_r1.formatPercent(loan_r10.probability), \", \", loan_r10.bucket, \") \");\n  }\n}\nfunction ReportComponent_div_30_div_101_mat_card_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\")(1, \"mat-card-subtitle\");\n    i0.ɵɵtext(2, \"Investor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-card-title\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 2);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const pb_r11 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(pb_r11.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pb_r11.action);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", pb_r11.count, \" investors\");\n  }\n}\nfunction ReportComponent_div_30_div_101_mat_card_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\")(1, \"mat-card-subtitle\");\n    i0.ɵɵtext(2, \"Loan\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-card-title\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 2);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const pb_r12 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(pb_r12.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pb_r12.action);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", pb_r12.count, \" loans\");\n  }\n}\nfunction ReportComponent_div_30_div_101_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"h3\");\n    i0.ɵɵtext(2, \"Today's Playbooks\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 49);\n    i0.ɵɵtemplate(4, ReportComponent_div_30_div_101_mat_card_4_Template, 9, 3, \"mat-card\", 32)(5, ReportComponent_div_30_div_101_mat_card_5_Template, 9, 3, \"mat-card\", 32);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.playbooks.investor_playbooks);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.playbooks.loan_playbooks);\n  }\n}\nfunction ReportComponent_div_30_div_108_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.aiAnswer, \" \");\n  }\n}\nfunction ReportComponent_div_30_div_108_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-form-field\", 50)(2, \"mat-label\");\n    i0.ɵɵtext(3, \"Ask about the report\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"textarea\", 51);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ReportComponent_div_30_div_108_Template_textarea_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.aiQuestion, $event) || (ctx_r1.aiQuestion = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ReportComponent_div_30_div_108_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.askAi());\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, ReportComponent_div_30_div_108_div_7_Template, 2, 1, \"div\", 52);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.aiQuestion);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r1.aiLoading || !ctx_r1.aiQuestion);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.aiLoading ? \"Thinking...\" : \"Ask AI\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.aiAnswer);\n  }\n}\nfunction ReportComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ReportComponent_div_30_div_1_Template, 2, 2, \"div\", 22);\n    i0.ɵɵelementStart(2, \"div\", 23)(3, \"mat-card\", 24)(4, \"mat-card-title\");\n    i0.ɵɵtext(5, \"Investor Buckets\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 25)(7, \"div\")(8, \"div\", 26);\n    i0.ɵɵtext(9, \"High\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 27);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\")(13, \"div\", 26);\n    i0.ɵɵtext(14, \"Medium\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 28);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\")(18, \"div\", 26);\n    i0.ɵɵtext(19, \"Low\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 29);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 2);\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"number\");\n    i0.ɵɵpipe(25, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(26, ReportComponent_div_30_div_26_Template, 2, 3, \"div\", 30);\n    i0.ɵɵelementStart(27, \"div\", 2);\n    i0.ɵɵtext(28);\n    i0.ɵɵpipe(29, \"number\");\n    i0.ɵɵpipe(30, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 2);\n    i0.ɵɵtext(32);\n    i0.ɵɵpipe(33, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"mat-card\", 24)(35, \"mat-card-title\");\n    i0.ɵɵtext(36, \"Loan Buckets\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"div\", 25)(38, \"div\")(39, \"div\", 26);\n    i0.ɵɵtext(40, \"High\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"div\", 27);\n    i0.ɵɵtext(42);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(43, \"div\")(44, \"div\", 26);\n    i0.ɵɵtext(45, \"Medium\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"div\", 28);\n    i0.ɵɵtext(47);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(48, \"div\")(49, \"div\", 26);\n    i0.ɵɵtext(50, \"Low\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"div\", 29);\n    i0.ɵɵtext(52);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(53, \"div\", 2);\n    i0.ɵɵtext(54);\n    i0.ɵɵpipe(55, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"div\", 2);\n    i0.ɵɵtext(57);\n    i0.ɵɵpipe(58, \"number\");\n    i0.ɵɵpipe(59, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(60, ReportComponent_div_30_div_60_Template, 5, 1, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"mat-card\", 24)(62, \"mat-card-title\");\n    i0.ɵɵtext(63, \"Top Investors\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(64, \"ul\", 31);\n    i0.ɵɵtemplate(65, ReportComponent_div_30_li_65_Template, 2, 3, \"li\", 32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(66, \"mat-card\", 24)(67, \"mat-card-title\");\n    i0.ɵɵtext(68, \"Top Loans\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(69, \"ul\", 31);\n    i0.ɵɵtemplate(70, ReportComponent_div_30_li_70_Template, 3, 8, \"li\", 32);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(71, \"mat-card\", 33)(72, \"mat-card-title\");\n    i0.ɵɵtext(73, \"Full Report\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(74, \"pre\");\n    i0.ɵɵtext(75);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(76, \"div\", 34)(77, \"mat-card\")(78, \"mat-card-title\");\n    i0.ɵɵtext(79, \"Engagement Trend\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(80, \"canvas\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(81, \"mat-card\")(82, \"mat-card-title\");\n    i0.ɵɵtext(83, \"DSCR Trend\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(84, \"canvas\", 35);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(85, \"div\", 36);\n    i0.ɵɵtemplate(86, ReportComponent_div_30_mat_card_86_Template, 14, 1, \"mat-card\", 16);\n    i0.ɵɵelementStart(87, \"mat-card\")(88, \"mat-card-title\");\n    i0.ɵɵtext(89, \"Top Investors & Loans\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(90, \"div\", 37)(91, \"div\")(92, \"div\", 2);\n    i0.ɵɵtext(93, \"Investors\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(94, \"ul\", 31);\n    i0.ɵɵtemplate(95, ReportComponent_div_30_li_95_Template, 2, 3, \"li\", 32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(96, \"div\")(97, \"div\", 2);\n    i0.ɵɵtext(98, \"Loans\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(99, \"ul\", 31);\n    i0.ɵɵtemplate(100, ReportComponent_div_30_li_100_Template, 3, 8, \"li\", 32);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵtemplate(101, ReportComponent_div_30_div_101_Template, 6, 2, \"div\", 38);\n    i0.ɵɵelementStart(102, \"mat-card\", 39)(103, \"div\", 40)(104, \"mat-card-title\");\n    i0.ɵɵtext(105, \"Explain with AI\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(106, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function ReportComponent_div_30_Template_button_click_106_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.aiOpen = !ctx_r1.aiOpen);\n    });\n    i0.ɵɵtext(107);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(108, ReportComponent_div_30_div_108_Template, 8, 4, \"div\", 16);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.deltas);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r1.report.summary_kpis.investor_buckets.High);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.report.summary_kpis.investor_buckets.Medium);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.report.summary_kpis.investor_buckets.Low);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" Avg churn: \", i0.ɵɵpipeBind2(24, 32, ctx_r1.report.summary_kpis.avg_churn_risk, \"1.2-2\"), \" (prev: \", i0.ɵɵpipeBind2(25, 35, ctx_r1.report.summary_kpis.prev_day_avg_churn_risk, \"1.2-2\"), \") \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.report.summary_kpis.churn_by_tolerance);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" Engagement avg: \", i0.ɵɵpipeBind2(29, 38, ctx_r1.report.summary_kpis.engagement_avg, \"1.1-1\"), \" | Email open avg: \", i0.ɵɵpipeBind2(30, 41, ctx_r1.report.summary_kpis.email_open_avg, \"1.2-2\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" Distribution yield p50: \", i0.ɵɵpipeBind2(33, 44, ctx_r1.report.summary_kpis.distribution_yield == null ? null : ctx_r1.report.summary_kpis.distribution_yield.p50, \"1.2-2\"), \" \");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r1.report.summary_kpis.loan_buckets.High);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.report.summary_kpis.loan_buckets.Medium);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.report.summary_kpis.loan_buckets.Low);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"High-risk exposure: $\", i0.ɵɵpipeBind2(55, 47, ctx_r1.report.summary_kpis.high_default_exposure, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" DSCR p50: \", i0.ɵɵpipeBind2(58, 50, ctx_r1.report.summary_kpis.dscr == null ? null : ctx_r1.report.summary_kpis.dscr.p50, \"1.2-2\"), \" | p25: \", i0.ɵɵpipeBind2(59, 53, ctx_r1.report.summary_kpis.dscr == null ? null : ctx_r1.report.summary_kpis.dscr.p25, \"1.2-2\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.report.summary_kpis.sector_default);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.report.summary_kpis.top_investors);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.report.summary_kpis.top_loans);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.report.report_markdown);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"data\", ctx_r1.trendEngagement)(\"options\", i0.ɵɵpureFunction2(70, _c6, i0.ɵɵpureFunction1(59, _c2, i0.ɵɵpureFunction1(57, _c1, i0.ɵɵpureFunction0(56, _c0))), i0.ɵɵpureFunction2(67, _c5, i0.ɵɵpureFunction1(62, _c3, i0.ɵɵpureFunction0(61, _c0)), i0.ɵɵpureFunction1(65, _c4, i0.ɵɵpureFunction0(64, _c0)))))(\"type\", \"line\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"data\", ctx_r1.trendDscr)(\"options\", i0.ɵɵpureFunction2(87, _c6, i0.ɵɵpureFunction1(76, _c2, i0.ɵɵpureFunction1(74, _c1, i0.ɵɵpureFunction0(73, _c0))), i0.ɵɵpureFunction2(84, _c5, i0.ɵɵpureFunction1(79, _c3, i0.ɵɵpureFunction0(78, _c0)), i0.ɵɵpureFunction1(82, _c4, i0.ɵɵpureFunction0(81, _c0)))))(\"type\", \"line\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.report.summary_kpis.sector_default);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.report.summary_kpis.top_investors);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.report.summary_kpis.top_loans);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.playbooks && ((ctx_r1.playbooks.investor_playbooks == null ? null : ctx_r1.playbooks.investor_playbooks.length) || (ctx_r1.playbooks.loan_playbooks == null ? null : ctx_r1.playbooks.loan_playbooks.length)));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.aiOpen ? \"Minimize\" : \"Open\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.aiOpen);\n  }\n}\nexport let ReportComponent = /*#__PURE__*/(() => {\n  class ReportComponent {\n    constructor(api, snackBar) {\n      this.api = api;\n      this.snackBar = snackBar;\n      this.loading = false;\n      this.trendEngagement = {\n        labels: [],\n        datasets: []\n      };\n      this.trendDscr = {\n        labels: [],\n        datasets: []\n      };\n      this.aiQuestion = \"\";\n      this.aiAnswer = \"\";\n      this.aiLoading = false;\n      this.aiHistory = [];\n      this.aiOpen = true;\n      this.segmentType = \"\";\n      this.segmentValue = \"\";\n    }\n    ngOnInit() {\n      this.loadReport();\n    }\n    loadReport() {\n      this.loading = true;\n      // Refresh scores then generate a report to reduce backend training edge-cases.\n      this.api.batchRefresh().subscribe({\n        next: () => this.api.generateReport(this.segmentType ? {\n          segment_type: this.segmentType,\n          segment_value: this.segmentValue\n        } : undefined).subscribe({\n          next: report => {\n            this.report = report;\n            this.trendEngagement = this.toTrendData(report.summary_kpis.engagement_trend || [], \"Engagement\");\n            this.trendDscr = this.toTrendData(report.summary_kpis.dscr_trend || [], \"DSCR\");\n            this.deltas = report.summary_kpis.deltas;\n            this.playbooks = report.summary_kpis.playbooks;\n            this.loading = false;\n          },\n          error: err => this.handleError(\"Failed to load report\", err)\n        }),\n        error: err => this.handleError(\"Failed to refresh scores\", err)\n      });\n    }\n    copyReport() {\n      if (!this.report) return;\n      navigator.clipboard.writeText(this.report.report_markdown).then(() => this.snackBar.open(\"Report copied to clipboard\", \"Close\", {\n        duration: 2000\n      })).catch(() => this.snackBar.open(\"Unable to copy\", \"Close\", {\n        duration: 2000\n      }));\n    }\n    printPdf() {\n      // Simple print-to-PDF; front-end approach to keep dependency light.\n      window.print();\n    }\n    downloadReport() {\n      if (!this.report) return;\n      const blob = new Blob([this.report.report_markdown], {\n        type: \"text/markdown;charset=utf-8\"\n      });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = `capspace-report-${new Date().toISOString().slice(0, 10)}.md`;\n      a.click();\n      window.URL.revokeObjectURL(url);\n    }\n    formatPercent(value) {\n      if (value === undefined || value === null) return \"0.0%\";\n      return `${(value * 100).toFixed(1)}%`;\n    }\n    sectorEntries(sectorDefault) {\n      return Object.entries(sectorDefault || {});\n    }\n    // Expose calibration data for UI (used if we surface it)\n    getCalibration(modelMetrics) {\n      return modelMetrics?.calibration || {};\n    }\n    toTrendData(series, label) {\n      const labels = series.map((_, idx) => `t${idx + 1}`);\n      return {\n        labels,\n        datasets: [{\n          data: series,\n          label,\n          borderColor: \"#19c3b1\",\n          backgroundColor: \"rgba(25,195,177,0.2)\",\n          tension: 0.25,\n          fill: true\n        }]\n      };\n    }\n    askAi() {\n      if (!this.aiQuestion) return;\n      this.aiLoading = true;\n      this.aiHistory.push({\n        role: \"user\",\n        content: this.aiQuestion\n      });\n      const context = {\n        report: this.report,\n        trends: {\n          engagement: this.trendEngagement,\n          dscr: this.trendDscr\n        }\n      };\n      this.api.askAi(this.aiQuestion, \"report\", context, this.aiHistory).subscribe({\n        next: resp => {\n          this.aiAnswer = resp.answer;\n          this.aiHistory.push({\n            role: \"assistant\",\n            content: resp.answer\n          });\n          this.aiLoading = false;\n          this.aiQuestion = \"\";\n        },\n        error: err => this.handleError(\"AI explanation failed\", err)\n      });\n    }\n    handleError(message, err) {\n      console.error(message, err);\n      this.loading = false;\n      this.snackBar.open(message, \"Close\", {\n        duration: 3000\n      });\n    }\n    static {\n      this.ɵfac = function ReportComponent_Factory(t) {\n        return new (t || ReportComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.MatSnackBar));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ReportComponent,\n        selectors: [[\"app-report\"]],\n        decls: 31,\n        vars: 10,\n        consts: [[1, \"actions\"], [1, \"page-title\"], [1, \"muted\"], [1, \"action-buttons\"], [\"appearance\", \"fill\", 1, \"segment-select\"], [3, \"valueChange\", \"value\"], [\"value\", \"\"], [\"value\", \"sector\"], [\"value\", \"risk_tolerance\"], [\"value\", \"aum_band\"], [\"appearance\", \"fill\", \"class\", \"segment-input\", 4, \"ngIf\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", 3, \"click\", \"disabled\"], [\"mat-stroked-button\", \"\", \"color\", \"accent\", 3, \"click\", \"disabled\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"click\", \"disabled\"], [\"class\", \"timestamp\", 4, \"ngIf\"], [\"class\", \"loading\", 4, \"ngIf\"], [4, \"ngIf\"], [\"appearance\", \"fill\", 1, \"segment-input\"], [\"matInput\", \"\", \"placeholder\", \"e.g. property or high\", 3, \"ngModelChange\", \"ngModel\"], [1, \"timestamp\"], [1, \"loading\"], [\"mode\", \"indeterminate\", \"diameter\", \"40\"], [\"class\", \"delta-grid\", 4, \"ngIf\"], [1, \"kpi-grid\"], [1, \"stat-card\"], [1, \"stat-row\"], [1, \"label\"], [1, \"value\", \"danger\"], [1, \"value\", \"warn\"], [1, \"value\", \"success\"], [\"class\", \"muted\", 4, \"ngIf\"], [1, \"list\"], [4, \"ngFor\", \"ngForOf\"], [1, \"report-card\"], [1, \"grid\", \"trend-grid\"], [\"baseChart\", \"\", 3, \"data\", \"options\", \"type\"], [1, \"grid\"], [1, \"side-by-side\"], [\"class\", \"playbooks\", 4, \"ngIf\"], [1, \"ai-card\"], [1, \"ai-header\"], [\"mat-stroked-button\", \"\", \"color\", \"accent\", 3, \"click\"], [1, \"delta-grid\"], [\"class\", \"delta-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"delta-card\"], [1, \"delta-title\"], [1, \"delta-value\"], [1, \"delta\", 3, \"ngClass\"], [1, \"playbooks\"], [1, \"playbook-grid\"], [\"appearance\", \"fill\", 1, \"full-width\"], [\"matInput\", \"\", \"rows\", \"3\", \"placeholder\", \"e.g., What should we action first?\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"ai-answer\", 4, \"ngIf\"], [1, \"ai-answer\"]],\n        template: function ReportComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\")(2, \"div\", 1);\n            i0.ɵɵtext(3, \"Daily Risk & Engagement Report\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"div\", 2);\n            i0.ɵɵtext(5, \"Auto-generated summary for investor churn and loan default.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"div\", 3)(7, \"mat-form-field\", 4)(8, \"mat-label\");\n            i0.ɵɵtext(9, \"Segment type\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"mat-select\", 5);\n            i0.ɵɵtwoWayListener(\"valueChange\", function ReportComponent_Template_mat_select_valueChange_10_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.segmentType, $event) || (ctx.segmentType = $event);\n              return $event;\n            });\n            i0.ɵɵelementStart(11, \"mat-option\", 6);\n            i0.ɵɵtext(12, \"Global\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"mat-option\", 7);\n            i0.ɵɵtext(14, \"Sector\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"mat-option\", 8);\n            i0.ɵɵtext(16, \"Risk tolerance\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(17, \"mat-option\", 9);\n            i0.ɵɵtext(18, \"AUM band\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(19, ReportComponent_mat_form_field_19_Template, 4, 1, \"mat-form-field\", 10);\n            i0.ɵɵelementStart(20, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function ReportComponent_Template_button_click_20_listener() {\n              return ctx.loadReport();\n            });\n            i0.ɵɵtext(21);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"button\", 12);\n            i0.ɵɵlistener(\"click\", function ReportComponent_Template_button_click_22_listener() {\n              return ctx.copyReport();\n            });\n            i0.ɵɵtext(23, \" Copy to clipboard \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"button\", 13);\n            i0.ɵɵlistener(\"click\", function ReportComponent_Template_button_click_24_listener() {\n              return ctx.downloadReport();\n            });\n            i0.ɵɵtext(25, \" Download .md \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"button\", 13);\n            i0.ɵɵlistener(\"click\", function ReportComponent_Template_button_click_26_listener() {\n              return ctx.printPdf();\n            });\n            i0.ɵɵtext(27, \" Print / PDF \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(28, ReportComponent_div_28_Template, 3, 4, \"div\", 14)(29, ReportComponent_div_29_Template, 2, 0, \"div\", 15)(30, ReportComponent_div_30_Template, 109, 90, \"div\", 16);\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(10);\n            i0.ɵɵtwoWayProperty(\"value\", ctx.segmentType);\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"ngIf\", ctx.segmentType);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"disabled\", ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Generating...\" : \"Generate Daily Report\", \" \");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"disabled\", !ctx.report);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", !ctx.report);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", !ctx.report);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.report);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.report && !ctx.loading);\n          }\n        },\n        dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.MatButton, i6.MatCard, i6.MatCardSubtitle, i6.MatCardTitle, i7.MatFormField, i7.MatLabel, i8.MatInput, i9.MatSelect, i10.MatOption, i11.MatProgressSpinner, i12.BaseChartDirective, i3.DecimalPipe, i3.TitleCasePipe, i3.DatePipe],\n        styles: [\".actions[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:1rem;gap:.5rem;flex-wrap:wrap}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.segment-select[_ngcontent-%COMP%], .segment-input[_ngcontent-%COMP%]{min-width:180px}.timestamp[_ngcontent-%COMP%]{color:var(--muted);font-size:.95rem}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem 0}.kpi-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:.75rem}.delta-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:.5rem;margin-bottom:.75rem}.delta-card[_ngcontent-%COMP%]{display:grid;gap:.2rem}.delta-title[_ngcontent-%COMP%]{font-size:.9rem;color:var(--muted)}.delta-value[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700}.delta[_ngcontent-%COMP%]{margin-left:.35rem;font-size:.9rem}.delta.up[_ngcontent-%COMP%]{color:#ef4444}.delta.down[_ngcontent-%COMP%]{color:#22c55e}.muted[_ngcontent-%COMP%]{color:var(--muted)}.list[_ngcontent-%COMP%]{padding-left:1rem;margin:.25rem 0}.report-card[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{white-space:pre-wrap;background:var(--surface-2);padding:.75rem;border-radius:8px;border:1px solid var(--border);font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;max-height:320px;overflow:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.6rem .35rem;border-bottom:1px solid var(--border);text-align:left}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:.75rem}.side-by-side[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:.5rem}.stat-card[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.75rem;margin-bottom:.35rem}.stat-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--muted);font-size:.8rem}.stat-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700}.value.danger[_ngcontent-%COMP%]{color:#ef4444}.value.warn[_ngcontent-%COMP%]{color:#f59e0b}.value.success[_ngcontent-%COMP%]{color:#22c55e}.trend-grid[_ngcontent-%COMP%]{margin:.5rem 0 1rem}.ai-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.ai-card[_ngcontent-%COMP%]   .ai-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.5rem}.ai-answer[_ngcontent-%COMP%]{margin-top:.75rem;padding:.75rem;border-radius:8px;background:var(--surface-2);border:1px solid var(--border);white-space:pre-wrap}.playbooks[_ngcontent-%COMP%]{margin:1rem 0}.playbook-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:.75rem}\"]\n      });\n    }\n  }\n  return ReportComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}