<mat-card>
  <mat-card-title>Yield Calculator</mat-card-title>
  <mat-card-content>
    <div class="row">
      <div>
        <div class="label">Investment</div>
        <span class="value">${{ investment | number: '1.0-0' }}</span>
      </div>
      <input type="range" min="50000" max="5000000" step="10000" [(ngModel)]="investment" (input)="calculate()"/>
      <input type="number" [(ngModel)]="investment" (input)="calculate()" />
    </div>

    <div class="row">
      <div>
        <div class="label">Annual rate</div>
        <span class="value">{{ annualRate | number:'1.1-1' }}%</span>
      </div>
      <input type="range" min="4" max="20" step="0.1" [(ngModel)]="annualRate" (input)="calculate()"/>
      <input type="number" [(ngModel)]="annualRate" step="0.1" (input)="calculate()" />
    </div>

    <div class="row">
      <div>
        <div class="label">Term (months)</div>
        <span class="value">{{ termMonths }}</span>
      </div>
      <input type="range" min="3" max="60" step="1" [(ngModel)]="termMonths" (input)="calculate()"/>
      <input type="number" [(ngModel)]="termMonths" (input)="calculate()" />
    </div>

    <div class="toggles">
      <label class="toggle"><input type="checkbox" [(ngModel)]="reinvest" (change)="calculate()" /> Reinvest distributions</label>
      <label class="toggle"><input type="checkbox" [(ngModel)]="monthlyPayout" (change)="calculate()" /> Show monthly payout</label>
    </div>

    <mat-divider></mat-divider>

    <div class="summary">
      <div>
        <div class="label">Monthly income</div>
        <div class="value">${{ summary.monthlyIncome | number:'1.0-0' }}</div>
      </div>
      <div>
        <div class="label">Annual income</div>
        <div class="value">${{ summary.annualIncome | number:'1.0-0' }}</div>
      </div>
      <div>
        <div class="label">Total interest</div>
        <div class="value">${{ summary.totalInterest | number:'1.0-0' }}</div>
      </div>
      <div>
        <div class="label">Ending balance</div>
        <div class="value">${{ summary.endingBalance | number:'1.0-0' }}</div>
      </div>
    </div>

    <div class="yearly">
      <div class="label">Yearly balances</div>
      <table *ngIf="yearlyBalances.length">
        <thead>
          <tr>
            <th>Year</th>
            <th>Balance</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let y of yearlyBalances">
            <td>Year {{ y.year }}</td>
            <td>${{ y.balance | number:'1.0-0' }}</td>
          </tr>
        </tbody>
      </table>
      <div class="muted" *ngIf="!yearlyBalances.length">No projection yet.</div>
    </div>
  </mat-card-content>
</mat-card>
